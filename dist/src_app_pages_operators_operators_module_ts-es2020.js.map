{"version":3,"file":"src_app_pages_operators_operators_module_ts-es2020.js","mappings":"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","sources":["./src/app/pages/operators/add-operators/add-operators.component.ts","./src/app/pages/operators/operators.component.ts","./src/app/pages/operators/operators.module.ts","./src/app/pages/operators/operators.routes.ts","./src/app/pages/operators/add-operators/add-operators.component.html","./src/app/pages/operators/operators.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MAT_DIALOG_DATA, MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { showAlert } from 'src/app/utils/swal-alert';\r\nimport { Event } from 'typescript.events';\r\n\r\n@Component({\r\n  selector: 'app-add-teams',\r\n  templateUrl: './add-operators.component.html',\r\n  styleUrls: ['./add-operators.component.scss']\r\n})\r\nexport class AddOperatorsComponent implements OnInit {\r\n  title = \"\";\r\n  form: FormGroup;\r\n  operator;\r\n  showPassword: boolean = false;\r\n  permissions: FormGroup;\r\n  role: string = '';\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<AddOperatorsComponent>,\r\n    public dialog: MatDialog,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private fb: FormBuilder,\r\n    public api: ApiService,\r\n    public events: Event\r\n  ) {\r\n    dialogRef.disableClose = true;\r\n    this.title = data.title;\r\n    this.operator = data.operator;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.role = localStorage.getItem('role');\r\n    this.createForm();\r\n    this.initFormPermissions();\r\n  }\r\n\r\n  createForm() {\r\n    this.form = this.fb.group({\r\n      ci: [(this.title === 'Agregar') ? '' : this.operator.ci, [Validators.required]],\r\n      fullName: [(this.title === 'Agregar') ? '' : this.operator.fullName, [Validators.required]],\r\n      email: [(this.title === 'Agregar') ? '' : this.operator.email, [Validators.required, Validators.pattern('^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$')]],\r\n      role: [(this.title === 'Agregar') ? '' : this.operator.role, [Validators.required]],\r\n      password: [(this.title === 'Agregar') ? '123456' : null,\r\n      (this.title === 'Agregar') ? [Validators.required] : []],\r\n    });\r\n  }\r\n\r\n  initFormPermissions() {\r\n    this.permissions = this.fb.group({\r\n      p1: false,\r\n      p2: false,\r\n      p3: false,\r\n      p4: false,\r\n      p5: false,\r\n      p6: false,\r\n      p7: false,\r\n    });\r\n\r\n  }\r\n\r\n\r\n  configOperator() {\r\n    if (this.title === 'Editar') {\r\n      this.putOperator();\r\n    } else {\r\n      this.postOperator();\r\n    }\r\n  }\r\n\r\n  validarNumeros(event) {\r\n    if ((event.keyCode < 48) || (event.keyCode > 57)) event.returnValue = false;\r\n  }\r\n\r\n  postOperator() {\r\n    this.api.postOperators(this.form.value).subscribe({\r\n      next: (res) => {\r\n        switch (res?.status) {\r\n          case 200:\r\n            showAlert('success', 'Correcto', 'Operador creado correctamente', 'btn btn-fill btn-info').then((result: any) => {\r\n              this.close();\r\n            });\r\n            break;\r\n          default:\r\n            showAlert('error', 'Error', res.body.message, 'btn btn-fill btn-info');\r\n            break;\r\n        }\r\n      },\r\n      error: (err) => {\r\n        if (err.error.message.message.includes('email is already in use')) {\r\n          showAlert('error', 'Error', 'El correo electrónico proporcionado ya está registrado en el sistema. Por favor, ingresa un correo electrónico diferente.', 'btn btn-info');\r\n        } else {\r\n          showAlert('error', 'Error', 'Algo ha salido mal, por favor inténtalo de nuevo más tarde.', 'btn btn-info');\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  putOperator() {\r\n    this.api.putOperators(this.form.value, this.operator._id).subscribe({\r\n      next: (res) => {\r\n        switch (res?.status) {\r\n          case 200:\r\n            showAlert('success', 'Correcto', 'Operador actualizado correctamente', 'btn btn-fill btn-info').then((result: any) => {\r\n              this.close();\r\n            });\r\n            break;\r\n          default:\r\n            showAlert('error', 'Error', res.body.message, 'btn btn-fill btn-info');\r\n            break;\r\n        }\r\n      },\r\n      error: (err) => {\r\n        if (err.error.message.message.includes('email is already in use')) {\r\n          showAlert('error', 'Error', 'El correo electrónico proporcionado ya está registrado en el sistema. Por favor, ingresa un correo electrónico diferente.', 'btn btn-info');\r\n        } else {\r\n          showAlert('error', 'Error', 'Algo ha salido mal, por favor inténtalo de nuevo más tarde.', 'btn btn-info');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  resetPaswordOperator() {\r\n    this.api.resetPaswordOperator({ password: \"123456\" }, this.operator._id).subscribe({\r\n      next: (res) => {\r\n        switch (res?.status) {\r\n          case 200:\r\n            showAlert('success', 'Correcto', 'Contraseña actualizada correctamente', 'btn btn-fill btn-info').then((result: any) => {\r\n              this.close();\r\n            });\r\n            break;\r\n          default:\r\n            showAlert('error', 'Error', res.body.message, 'btn btn-fill btn-info');\r\n            break;\r\n        }\r\n      },\r\n      error: (err) => {\r\n\r\n        showAlert('error', 'Error', 'Algo ha salido mal, por favor inténtalo de nuevo más tarde.', 'btn btn-info');\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n\r\n  get errorsForm() { return this.form.controls; }\r\n\r\n  selectedRole(value) {\r\n    this.form.get('role').setValue(value);\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { IPagination } from 'src/app/components/pagination/pagination.interface';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { AddOperatorsComponent } from './add-operators/add-operators.component';\r\nimport { PageEvent } from '@angular/material/paginator';\r\nimport { showAlert } from 'src/app/utils/swal-alert';\r\n\r\n@Component({\r\n  selector: 'app-operators',\r\n  templateUrl: './operators.component.html',\r\n  styleUrls: ['./operators.component.scss']\r\n})\r\nexport class OperatorsComponent implements OnInit {\r\n  operators: any[] = [];\r\n  searchForm: FormGroup;\r\n  pagination: IPagination = { page: 1, pages: 1, itemsPage: 10, total: 1 };\r\n  wordToSearch: string = '';\r\n  count: number = 0;\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    public fb: FormBuilder,\r\n    private api: ApiService,\r\n    public router: Router,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.createForm();\r\n    this.getOperators();\r\n  }\r\n\r\n  createForm() {\r\n    this.searchForm = this.fb.group({\r\n      value: ['']\r\n    });\r\n  }\r\n\r\n  getOperators() {\r\n    this.wordToSearch = this.searchForm.value.value;\r\n    this.api.getOperators(this.pagination.page, this.pagination.itemsPage, this.wordToSearch).subscribe({\r\n      next: (resp: any) => {\r\n        this.operators = resp.body.administrators;\r\n        this.pagination = resp.body.pagination;\r\n        this.count = resp.body.pagination.total;\r\n      },\r\n      error: (err) => {\r\n        showAlert('error', 'Error', 'Algo ha salido mal, intente más tarde!', 'btn btn-info');\r\n      }\r\n    });\r\n  }\r\n\r\n  openModal(opt, operator?) {\r\n    const modal = this.dialog.open(AddOperatorsComponent, {\r\n      width: '400px',\r\n      data: {\r\n        title: opt,\r\n        operator\r\n      }\r\n    });\r\n\r\n    modal.afterClosed().subscribe(result => {\r\n      this.getOperators();\r\n    });\r\n  }\r\n\r\n  changePage(eventPage: PageEvent) {\r\n    this.pagination.page = eventPage.pageIndex + 1;\r\n    this.getOperators();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OperatorsComponent } from './operators.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport { RouterModule } from '@angular/router';\r\nimport { OperatorRoutes } from './operators.routes';\r\nimport { MaterialModule } from 'src/app/material/material.module';\r\nimport { NgxDropzoneModule } from 'ngx-dropzone';\r\nimport { Event } from 'typescript.events';\r\nimport { AddOperatorsComponent } from './add-operators/add-operators.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    OperatorsComponent,\r\n    AddOperatorsComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    TabsModule.forRoot(),\r\n    RouterModule.forChild(OperatorRoutes),\r\n    MaterialModule,\r\n    NgxDropzoneModule\r\n  ],\r\n  providers: [\r\n    Event\r\n  ]\r\n})\r\nexport class OperatorsModule { }\r\n","import  { Routes } from '@angular/router';\r\nimport { OperatorsComponent } from './operators.component';\r\n\r\n\r\nexport const OperatorRoutes: Routes = [\r\n    {\r\n        path: '',\r\n        children: [{\r\n            path: '',\r\n            component: OperatorsComponent\r\n        }]\r\n    }\r\n];","export default \"<div class=\\\"modal-header1 text-left row mb-1\\\">\\r\\n  <h6 class=\\\"modal-title\\\">{{title}} Operador</h6>\\r\\n  <button type=\\\"button\\\" class=\\\"close mt--5 mr--2\\\" (click)=\\\"close()\\\">\\r\\n    <i class=\\\"fa fa-times icon-modal-close\\\"></i>\\r\\n  </button>\\r\\n</div>\\r\\n\\r\\n<mat-dialog-content class=\\\"mat-typography\\\">\\r\\n  <form class=\\\"form-horizontal\\\" [formGroup]=\\\"form\\\" autocomplete=\\\"off\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n\\r\\n          <mat-form-field class=\\\"col-xs-12 col-sm-12 col-md-12\\\" appearance=\\\"outline\\\" style=\\\"border: 2px #000000;\\\">\\r\\n            <mat-label>Rol</mat-label>\\r\\n            <mat-select formControlName=\\\"role\\\" (selectionChange)=\\\"selectedRole($event.value)\\\">\\r\\n              <mat-option *ngIf=\\\"role === 'SUPER-ADMIN'\\\" value=\\\"SUPER-ADMIN\\\">Super Administrador</mat-option>\\r\\n              <mat-option value=\\\"ADMINISTRATOR\\\">Administrador</mat-option>\\r\\n              <mat-option value=\\\"OPERATOR\\\">Operador</mat-option>\\r\\n              <mat-option value=\\\"USER\\\">Usuario</mat-option>\\r\\n            </mat-select>\\r\\n            <mat-error *ngIf=\\\"(errorsForm.role.touched) && errorsForm.role.errors?.required\\\">\\r\\n              Tipo es obligatorio\\r\\n            </mat-error>\\r\\n          </mat-form-field>\\r\\n\\r\\n          <mat-form-field class=\\\"col-xs-12 col-sm-12 col-md-12\\\" appearance=\\\"outline\\\" style=\\\"border: 2px #000000;\\\">\\r\\n            <mat-label>Cédula</mat-label>\\r\\n            <input matInput name=\\\"ci\\\" formControlName=\\\"ci\\\" (keypress)=\\\"validarNumeros($event)\\\">\\r\\n            <mat-error *ngIf=\\\"(errorsForm.ci.touched) && errorsForm.ci.errors?.required\\\">\\r\\n              Campo obligatorio\\r\\n            </mat-error>\\r\\n          </mat-form-field>\\r\\n\\r\\n          <mat-form-field class=\\\"col-xs-12 col-sm-12 col-md-12\\\" appearance=\\\"outline\\\" style=\\\"border: 2px #000000;\\\">\\r\\n            <mat-label>Nombre</mat-label>\\r\\n            <input matInput name=\\\"fullName\\\" formControlName=\\\"fullName\\\">\\r\\n            <mat-error *ngIf=\\\"(errorsForm.fullName.touched) && errorsForm.fullName.errors?.required\\\">\\r\\n              Campo obligatorio\\r\\n            </mat-error>\\r\\n          </mat-form-field>\\r\\n\\r\\n          <mat-form-field class=\\\"col-xs-12 col-sm-12 col-md-12\\\" appearance=\\\"outline\\\" style=\\\"border: 2px #000000;\\\">\\r\\n            <mat-label>Correo Electrónico</mat-label>\\r\\n            <input matInput name=\\\"email\\\" formControlName=\\\"email\\\"\\r\\n              oninput=\\\"javascript:this.value=this.value.toLowerCase();\\\">\\r\\n            <mat-error *ngIf=\\\"(errorsForm.email.touched) && errorsForm.email.errors?.required\\\">\\r\\n              Campo obligatorio\\r\\n            </mat-error>\\r\\n          </mat-form-field>\\r\\n\\r\\n          <!-- <mat-form-field class=\\\"col-xs-12 col-sm-12 col-md-12\\\" appearance=\\\"outline\\\"\\r\\n                        style=\\\"border: 2px #000000;\\\">\\r\\n                        <mat-label>Contraseña</mat-label>\\r\\n                        <input matInput [type]=\\\"showPassword ? 'text' : 'password'\\\" name=\\\"password\\\"\\r\\n                            formControlName=\\\"password\\\">\\r\\n                        <mat-icon style=\\\"cursor: pointer;\\\" matSuffix (click)=\\\"showPassword = !showPassword\\\">\\r\\n                            {{showPassword?'visibility_off':'visibility'}}\\r\\n                        </mat-icon>\\r\\n                        <mat-error *ngIf=\\\"(errorsForm.password.touched) && errorsForm.password.errors?.required\\\">\\r\\n                            Campo obligatorio\\r\\n                        </mat-error>\\r\\n                    </mat-form-field> -->\\r\\n          <hr>\\r\\n          <!--PERMISSIONS-->\\r\\n          <!-- <div class=\\\"ml-3\\\">\\r\\n                        <section [formGroup]=\\\"permissions\\\">\\r\\n                            <h2 class=\\\"font-weight-bold\\\">Permisos:</h2>\\r\\n                            <p><mat-checkbox formControlName=\\\"p1\\\"  color=\\\"primary\\\">Manejo de cuentas administrador</mat-checkbox></p>\\r\\n                            <p><mat-checkbox formControlName=\\\"p2\\\" color=\\\"primary\\\">Manejo de cuentas de usuario</mat-checkbox></p>\\r\\n\\r\\n                            <p><mat-checkbox formControlName=\\\"p3\\\" color=\\\"primary\\\">Manejo de teams</mat-checkbox></p>\\r\\n                            <p><mat-checkbox formControlName=\\\"p4\\\" color=\\\"primary\\\">Manejo de centrales</mat-checkbox></p>\\r\\n                            <p><mat-checkbox formControlName=\\\"p5\\\" color=\\\"primary\\\">Generar reportes</mat-checkbox></p>\\r\\n\\r\\n                            <p><mat-checkbox formControlName=\\\"p6\\\" color=\\\"primary\\\">Operador de alarmas</mat-checkbox></p>\\r\\n                            <p><mat-checkbox formControlName=\\\"p7\\\" color=\\\"primary\\\">Ver alarmas pendietes espejo</mat-checkbox></p>\\r\\n                        </section>\\r\\n\\r\\n                        <section [formGroup]=\\\"permissions\\\">\\r\\n                            <h4>You chose:</h4>\\r\\n                            {{permissions.value | json}}\\r\\n                        </section>\\r\\n                    </div> -->\\r\\n\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</mat-dialog-content>\\r\\n\\r\\n<div mat-dialog-actions align=\\\"star\\\" class=\\\"dialog-footer\\\" *ngIf=\\\"this.title === 'Editar'\\\">\\r\\n  <button class=\\\"btn btn-fill btn-danger btn-md\\\" (click)=\\\"resetPaswordOperator()\\\" type=\\\"button\\\">\\r\\n    Restablecer Contraseña\\r\\n  </button>\\r\\n</div>\\r\\n\\r\\n<div mat-dialog-actions align=\\\"end\\\" class=\\\"dialog-footer\\\">\\r\\n  <button class=\\\"btn btn-fill btn-info btn-md\\\" (click)=\\\"configOperator()\\\" [disabled]=\\\"!form.valid\\\" type=\\\"button\\\">\\r\\n    Guardar\\r\\n  </button>\\r\\n</div>\\r\\n\";","export default \"<div class=\\\"main-content\\\">\\r\\n    <div class=\\\"container-fluid\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n                <div class=\\\"card\\\">\\r\\n                    <div class=\\\"header\\\">\\r\\n                        <h4 class=\\\"title\\\">Operadores: {{count}}</h4>\\r\\n                        <p class=\\\"category\\\"></p>\\r\\n                    </div>\\r\\n                    <br>\\r\\n                    <form [formGroup]=\\\"searchForm\\\" class=\\\"form-horizontal\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                            <div class=\\\"row\\\">\\r\\n                                <mat-form-field class=\\\"col-xs-12 col-sm-12 col-md-12\\\" appearance=\\\"outline\\\"\\r\\n                                    style=\\\"border: 2px #000000;\\\">\\r\\n                                    <mat-label>Buscar por nombre</mat-label>\\r\\n                                    <input matInput name=\\\"value\\\" (keyup)=\\\"getOperators()\\\" formControlName=\\\"value\\\">\\r\\n                                </mat-form-field>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </form>\\r\\n                    <br>\\r\\n                    <div class=\\\"content table-responsive table-full-width\\\">\\r\\n                        <table class=\\\"table\\\">\\r\\n                            <thead>\\r\\n                                <tr>\\r\\n                                    <th>Cédula</th>\\r\\n                                    <th>Nombre</th>\\r\\n                                    <th>Correo</th>\\r\\n                                    <th>Rol</th>\\r\\n                                    <th class=\\\"text-right\\\">Acciones</th>\\r\\n                                </tr>\\r\\n                            </thead>\\r\\n                            <tbody *ngIf=\\\"operators.length > 0\\\">\\r\\n                                <tr *ngFor=\\\"let item of operators; let i=index;\\\">\\r\\n                                    <td class=\\\"td-size\\\">{{item?.ci}}</td>\\r\\n                                    <td class=\\\"td-size\\\">{{item?.fullName}}</td>\\r\\n                                    <td class=\\\"td-size\\\">{{item?.email}}</td>\\r\\n                                    <td class=\\\"td-size\\\">{{item?.role}}</td>\\r\\n                                    <td class=\\\"td-actions text-right\\\">\\r\\n                                        <!-- <a (click)=\\\"showUsers(item)\\\" rel=\\\"tooltip\\\" title=\\\"Ver usuario\\\" class=\\\"btn btn-primary btn-simple btn-xs\\\">\\r\\n                                            <i class=\\\"fa fa-eye\\\"></i>\\r\\n                                        </a> -->\\r\\n                                        <a (click)=\\\"openModal('Editar', item)\\\" rel=\\\"tooltip\\\" title=\\\"Editar\\\"\\r\\n                                            class=\\\"btn btn-warning btn-simple btn-xs\\\">\\r\\n                                            <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                        </a>\\r\\n                                    </td>\\r\\n                                </tr>\\r\\n                            </tbody>\\r\\n                        </table>\\r\\n                        <p class=\\\"msg-empty\\\" *ngIf=\\\"operators.length ===  0\\\">No existen registros</p>\\r\\n                    </div>\\r\\n                    <br>\\r\\n                    <div *ngIf=\\\"operators?.length !==0\\\" class=\\\"container-fluid\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col d-flex justify-content-end\\\">\\r\\n                                <mat-paginator #paginator showFirstLastButtons [length]=\\\"pagination.total\\\"\\r\\n                                    [pageSize]=\\\"pagination.itemsPage\\\" (page)=\\\"changePage($event)\\\">\\r\\n                                </mat-paginator>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<caption>\\r\\n    <button (click)=\\\"openModal('Agregar')\\\" id=\\\"addBtn\\\" class=\\\"btn btn-icon btn-round btn-twitter\\\">\\r\\n        <img src=\\\"assets/img/icons/mas.png\\\">\\r\\n    </button>\\r\\n</caption>\";"],"names":[],"sourceRoot":"webpack:///"}