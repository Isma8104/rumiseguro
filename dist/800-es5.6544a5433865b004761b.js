!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n)}}function o(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[800],{81534:function(t,e,o){function r(){var t,e,o=(null===(t=document)||void 0===t?void 0:t.getElementById("loader"))||null;null!=o&&(null!==(e=o.classList)&&void 0!==e&&e.add("loader"),o.style.setProperty("position","fixed"),o.style.setProperty("left","0px"),o.style.setProperty("top","0px"),o.style.setProperty("width","100%"),o.style.setProperty("height","100%"),o.style.setProperty("z-index","9999"),o.style.setProperty("background",'url("https://cronosoft.net/view/loading") 50% 50% no-repeat #151B1C'),o.style.setProperty("background-size","10%"),o.style.setProperty("opacity","70%"))}function n(){var t,e=null===(t=document)||void 0===t?void 0:t.getElementById("loader");null!=e&&(e.classList.remove("loader"),e.removeAttribute("style"))}o.d(e,{Av:function(){return r},kU:function(){return n}})},47800:function(e,r,n){n.r(r),n.d(r,{TeamOperatorModule:function(){return F}});var a=n(38583),i=n(3679),s=n(75690),l=n(63423),u=n(12640),c=n(44368),p=n(22176),g=n(22238),d=n(81534),f=n(39761),m=n(88002),h=n(37716),Z=n(84678),v=n(46524),b=n(98295),y=n(49983),T=n(21554),A=n(72458);function q(t,e){if(1&t&&(h.TgZ(0,"mat-option",15),h._uU(1),h.qZA()),2&t){var o=e.$implicit;h.Q6J("value",o),h.xp6(1),h.hij(" ",o.fullName," ")}}var w,O=((w=function(){return o(function e(o,r,n,a,s,l){t(this,e),this.dialogRef=o,this.dialog=r,this.data=n,this.fb=a,this.api=s,this.events=l,this.title="",this.pagination={page:1,pages:1,itemsPage:1e3,total:1},this.operators=[],this.operatorCtrl=new i.NI,this.idTeam=n.team},[{key:"ngOnInit",value:function(){this.createForm(),this.getOperators()}},{key:"createForm",value:function(){this.searchForm=this.fb.group({value:[""]})}},{key:"getOperators",value:function(){var t=this;this.api.getOperators(this.pagination.page,this.pagination.itemsPage,"").subscribe(function(e){t.operators=e.body.administrators,t.filteredOperators=t.operatorCtrl.valueChanges.pipe((0,f.O)(""),(0,m.U)(function(e){return t._filterOperator(e)}))},function(t){(0,p.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}},{key:"postOperatorTeam",value:function(){var t=this;(0,d.Av)(),this.api.postOperatorTeam(this.selectOperator._id,this.idTeam).subscribe(function(e){(0,d.kU)(),(0,p.w)("success","Correcto","Operador asignado correctamente","btn btn-fill btn-info").then(function(e){t.close()})},function(e){(0,d.kU)(),t.word="",(0,p.w)("error","Error",e.error.message,"btn  btn-fill btn-info")})}},{key:"_filterOperator",value:function(t){var e=t;return this.operators.filter(function(t){return t.fullName.includes(e)})}},{key:"selected",value:function(t){this.word=t.option.value.fullName,this.selectOperator=t.option.value}},{key:"close",value:function(){this.dialogRef.close()}}])}()).\u0275fac=function(t){return new(t||w)(h.Y36(g.so),h.Y36(g.uw),h.Y36(g.WI),h.Y36(i.qu),h.Y36(Z.s),h.Y36(v.ju))},w.\u0275cmp=h.Xpm({type:w,selectors:[["app-select-operator"]],decls:21,vars:8,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["type","search","matInput","","placeholder","Buscar team",3,"matAutocomplete","ngModel","formControl"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"h6",1),h._uU(2,"Asignar Operador"),h.qZA(),h.TgZ(3,"button",2),h.NdJ("click",function(){return e.close()}),h._UZ(4,"i",3),h.qZA(),h.qZA(),h.TgZ(5,"mat-dialog-content",4),h.TgZ(6,"form",5),h.TgZ(7,"div",6),h.TgZ(8,"div",7),h.TgZ(9,"div",6),h.TgZ(10,"mat-form-field",8),h.TgZ(11,"mat-label"),h._uU(12,"Seleccionar Operador"),h.qZA(),h._UZ(13,"input",9),h.TgZ(14,"mat-autocomplete",10,11),h.NdJ("optionSelected",function(t){return e.selected(t)}),h.YNc(16,q,2,2,"mat-option",12),h.ALo(17,"async"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(18,"div",13),h.TgZ(19,"button",14),h.NdJ("click",function(){return e.postOperatorTeam()}),h._uU(20," Guardar "),h.qZA(),h.qZA()),2&t){var o=h.MAs(15);h.xp6(6),h.Q6J("formGroup",e.searchForm),h.xp6(7),h.Q6J("matAutocomplete",o)("ngModel",e.word)("formControl",e.operatorCtrl),h.xp6(3),h.Q6J("ngForOf",h.lcZ(17,6,e.filteredOperators)),h.xp6(3),h.Q6J("disabled",!e.searchForm.valid)}},directives:[g.xY,i._Y,i.JL,i.sg,b.KE,b.hX,y.Nt,T.ZL,i.Fj,i.JJ,i.oH,T.XC,a.sg,g.H8,A.ey],pipes:[a.Ov],styles:[""]}),w),x=n(99692);function _(t,e){if(1&t&&(h.TgZ(0,"tr"),h.TgZ(1,"td"),h._uU(2),h.qZA(),h._UZ(3,"td",20),h.qZA()),2&t){var o=e.$implicit;h.xp6(2),h.Oqu(o.fullName)}}function k(t,e){if(1&t&&(h.TgZ(0,"tbody"),h.YNc(1,_,4,1,"tr",19),h.qZA()),2&t){var o=h.oxw();h.xp6(1),h.Q6J("ngForOf",o.operators)}}function J(t,e){1&t&&(h.TgZ(0,"p",21),h._uU(1,"No existen registros"),h.qZA())}function N(t,e){if(1&t){var o=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h.TgZ(2,"div",22),h.TgZ(3,"mat-paginator",23,24),h.NdJ("page",function(t){return h.CHM(o),h.oxw().changePage(t)}),h.qZA(),h.qZA(),h.qZA(),h.qZA()}if(2&t){var r=h.oxw();h.xp6(3),h.Q6J("length",r.pagination.total)("pageSize",r.pagination.itemsPage)}}var U=[{path:"",children:[{path:"",component:function(){var e=function(){return o(function e(o,r,n,a,i){t(this,e),this.dialog=o,this.fb=r,this.route=n,this._api=a,this.router=i,this.operators=[],this.pagination={page:1,pages:1,itemsPage:10,total:1},this.wordToSearch="",this.count=0;var s=JSON.parse(atob(n.snapshot.paramMap.get("parameters")));this.team=s},[{key:"ngOnInit",value:function(){this.createForm(),this.getOperatorByTeam()}},{key:"createForm",value:function(){this.searchForm=this.fb.group({value:[""]})}},{key:"getOperatorByTeam",value:function(){var t=this;this.wordToSearch=this.searchForm.value.value,this._api.getOperatorsByTeam(this.team.id,this.pagination.page,this.pagination.itemsPage,this.wordToSearch).subscribe(function(e){t.operators=e.body.users,t.count=e.body.pagination.total,t.pagination=e.body.pagination},function(t){(0,p.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}},{key:"openModal",value:function(){var t=this;this.dialog.open(O,{width:"400px",data:{team:this.team.id}}).afterClosed().subscribe(function(e){t.getOperatorByTeam()})}},{key:"changePage",value:function(t){this.pagination.page=t.pageIndex+1,this.getOperatorByTeam()}}])}();return e.\u0275fac=function(t){return new(t||e)(h.Y36(g.uw),h.Y36(i.qu),h.Y36(l.gz),h.Y36(Z.s),h.Y36(l.F0))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-team-operator"]],decls:33,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"title"],[1,"category"],[1,"form-horizontal",3,"formGroup"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","value","formControlName","value",3,"keyup"],[1,"content","table-responsive","table-full-width"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","msg-empty",4,"ngIf"],["class","container-fluid",4,"ngIf"],["id","addBtn",1,"btn","btn-icon","btn-round","btn-twitter",3,"click"],["src","assets/img/icons/mas.png"],[4,"ngFor","ngForOf"],[1,"td-actions","text-right"],[1,"msg-empty"],[1,"col","d-flex","justify-content-end"],["showFirstLastButtons","",3,"length","pageSize","page"],["paginator",""]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h.TgZ(1,"div",1),h.TgZ(2,"div",2),h.TgZ(3,"div",3),h.TgZ(4,"div",4),h.TgZ(5,"div",5),h.TgZ(6,"h4",6),h._uU(7),h.qZA(),h._UZ(8,"p",7),h.qZA(),h._UZ(9,"br"),h.TgZ(10,"form",8),h.TgZ(11,"div",3),h.TgZ(12,"div",2),h.TgZ(13,"mat-form-field",9),h.TgZ(14,"mat-label"),h._uU(15,"Buscar por operador"),h.qZA(),h.TgZ(16,"input",10),h.NdJ("keyup",function(){return e.getOperatorByTeam()}),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h._UZ(17,"br"),h.TgZ(18,"div",11),h.TgZ(19,"table",12),h.TgZ(20,"thead"),h.TgZ(21,"tr"),h.TgZ(22,"th"),h._uU(23,"Nombre"),h.qZA(),h.TgZ(24,"th",13),h._uU(25,"Acciones"),h.qZA(),h.qZA(),h.qZA(),h.YNc(26,k,2,1,"tbody",14),h.qZA(),h.YNc(27,J,2,0,"p",15),h.qZA(),h._UZ(28,"br"),h.YNc(29,N,5,2,"div",16),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(30,"caption"),h.TgZ(31,"button",17),h.NdJ("click",function(){return e.openModal()}),h._UZ(32,"img",18),h.qZA(),h.qZA()),2&t&&(h.xp6(7),h.AsE("Operadores Team ",e.team.name,": ",e.count,""),h.xp6(3),h.Q6J("formGroup",e.searchForm),h.xp6(16),h.Q6J("ngIf",e.operators.length>0),h.xp6(1),h.Q6J("ngIf",0===e.operators.length),h.xp6(2),h.Q6J("ngIf",0!==(null==e.operators?null:e.operators.length)))},directives:[i._Y,i.JL,i.sg,b.KE,b.hX,y.Nt,i.Fj,i.JJ,i.u,a.O5,a.sg,x.NW],styles:[""]}),e}()}]}],F=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({providers:[v.ju],imports:[[a.ez,i.u5,i.UX,s.P4.forRoot(),l.Bz.forChild(U),u.q,c.bB]]}),e}()}}])}();