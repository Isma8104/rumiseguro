"use strict";(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[943],{3288:function(t,e){e.Z=function(t,e){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xeda","en 1 d\xeda"],["hace %s d\xedas","en %s d\xedas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xf1o","en 1 a\xf1o"],["hace %s a\xf1os","en %s a\xf1os"]][e]}},28432:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.items={},this.count=0}return t.prototype.Add=function(t,e){this.items[t]=e,this.count++},t.prototype.ContainsKey=function(t){return this.items.hasOwnProperty(t)},t.prototype.Count=function(){return this.count},t.prototype.Item=function(t){return this.items[t]},t.prototype.Keys=function(){var t=[];for(var e in this.items)t.push(e);return t},t.prototype.Remove=function(t){var e=this.items[t];return delete this.items[t],this.count--,e},t.prototype.Values=function(){var t=[];for(var e in this.items)t.push(this.items[e]);return t},t}();e.Dictionary=i},46524:function(t,e,i){var n=i(28432),o=function(){function t(){this._Events=new n.Dictionary,this._maxListeners=null}return t.prototype.addListener=function(t,e){return this.on(t,e)},t.prototype.on=function(t,e){return this._registerEvent(t,e,!1),this},t.prototype.once=function(t,e){return this._registerEvent(t,e,!0),this},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this._Events.Item(t),o=this.listenerCount(t);return n&&n.map(function(t){return t.apply(void 0,e)}),0!==o},t.prototype.eventNames=function(){return this._Events.Keys()},t.prototype.getMaxListeners=function(){return null===this._maxListeners?t.defaultMaxListeners:this._maxListeners},t.prototype.setMaxListeners=function(t){return this._maxListeners=t,this},t.prototype.listeners=function(t){return this._Events.Item(t)},t.prototype.listenerCount=function(t){var e=this._Events.Item(t);return void 0===e?0:e.length},t.prototype.removeAllListeners=function(t){var e=this;return t||(t=this._Events.Keys()),t.forEach(function(t){return e._Events.Remove(t)}),this},t.prototype.removeListener=function(t,e){var i=this.listeners(t).filter(function(t){return t===e});return this._Events.Add(t,i),this},t.prototype._registerEvent=function(t,e,i){if(this._ListenerLimitReached(t))console.log("Maximum listener reached, new Listener not added");else{!0===i&&(e=this._createOnceListener(e,t));var n=this._createListeners(e,this.listeners(t));this._Events.Add(t,n)}},t.prototype._createListeners=function(t,e){return e||(e=new Array),e.push(t),e},t.prototype._createOnceListener=function(t,e){var i=this;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i.removeListener(e,t),t.apply(void 0,n)}},t.prototype._ListenerLimitReached=function(t){return this.listenerCount(t)===this.getMaxListeners()},t.defaultMaxListeners=10,t}();e.ju=o},47943:function(t,e,i){i.r(e),i.d(e,{MapModule:function(){return Tt}});var n=i(38583),o=i(3679),s=i(75690),r=i(63423),a=i(12640),c=i(46524),l=i(86173),u=i(85135),h=i(83164),g=i(9950),d=i(77124),p=i(87786),m=i(89691),f=i(33413),A=i(77026),Z=i(6983),v=i(40694),y=i(77218),_=i(30931),b=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=(0,_.Pq)(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new v.Z({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:y.Z.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getJustify=function(){return this.justify_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=(0,_.Pq)(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setJustify=function(t){this.justify_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}(),T=i(20047),x=i(96407),k=i(29137),q=i(69499),w=i(8239),S=i(22238),O=i(81534),M=i(88259),E=i.n(M),C=i(37716),U=i(84678),P=i(64363),L=i(79765);let R=(()=>{class t{constructor(t){this._api=t,this.mqttMessageSource=new L.xQ,this.positionSource=new L.xQ}socketConnect(t){let e=this._api.getUser();this.socket&&this.socket.connected||(this.socket=(0,P.io)(`${x.h}`,{query:{id:t,user:e}}),this.socket.on("mqttMessage",t=>{console.log("Mensaje MQTT recibido en frontend:",t),this.mqttMessageSource.next(t)}),this.socket.on("connect",()=>{console.log("Conectado al servidor Socket.IO")}),this.socket.on("disconnect",()=>{console.log("Desconectado del servidor Socket.IO")}),this.socket.on("error",t=>{console.error("Error en Socket.IO:",t)}))}socketPositionConnect(t){this.socketPosition&&this.socketPosition.connected||(this.socketPosition=(0,P.io)(`${x.h}`,{query:{id:t}}),this.socketPosition.on("user-position",t=>{this.positionSource.next(t)}))}listenForMqttMessages(){return this.mqttMessageSource.asObservable()}listenForPositions(){return this.positionSource.asObservable()}publishMqttMessage(t,e,i){this.socket&&(console.log("Enviando mensaje MQTT:",{topic:t,message:e}),this.socket.emit("publishToMqtt",{topic:t,message:e,options:i}))}emitEvent(t,e){this.socket&&this.socket.emit(t,e)}disconnect(){this.socket&&this.socket.disconnect(),this.socketPosition&&this.socketPosition.disconnect()}}return t.\u0275fac=function(e){return new(e||t)(C.LFG(U.s))},t.\u0275prov=C.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=i(39209),F=i(98295),N=i(49983);const D=["mapCard"];let Y=(()=>{class t{constructor(t,e,i,n,o,s){this.dialogRef=t,this.dialog=e,this.data=i,this.fb=n,this.api=o,this._socket=s,this.latE=null,this.lngE=null,this.heightE="100%",this.coordinates=[],this.user=i.user,this.idAlert=i.idAlert,this.latE=this.user.lat,this.lngE=this.user.lng}ngOnInit(){this.createForm(),this.getUserPosition(this.user._id),this._socket.socketConnect(this.user._id),this.listenForRealtimeData()}listenForRealtimeData(){this.positionSubscription=this._socket.listenForPositions().subscribe(t=>{console.log("RECIBO DATA DE POSICI\xd3N:",t),t&&t.positions&&t.positions.length>0&&(this.coordinates.push({lat:t.positions[0].lat,lng:t.positions[0].lng}),this.mapCard&&this.mapCard.plotRoute(this.coordinates))}),this.mqttSubscription=this._socket.listenForMqttMessages().subscribe(t=>{console.log("RECIBO DATA DE MQTT:",t),t.topic===`alarma/${this.user.access}`&&"F"===t.message&&this.showAlert("info","Alarma Desactivada","El usuario ha desactivado la alarma remotamente.","btn btn-info")})}postComment(){(0,O.Av)(),this.api.putAlertHeeded(this.idAlert,{description:this.form.value.comment,administrator:this.getUser(),replyDate:new Date}).subscribe(t=>{(0,O.kU)(),this.showAlert("success","Correcto","Alerta atendida correctamente","btn btn-info"),this._socket.publishMqttMessage(`alarma/${this.user.access}`,"F",{qos:2,retain:!0})},t=>{(0,O.kU)(),this.showAlert("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}ngOnDestroy(){this.positionSubscription&&this.positionSubscription.unsubscribe(),this.mqttSubscription&&this.mqttSubscription.unsubscribe()}convertCoordsToAddress(){this.lastPosition&&this.lastPosition.lat&&this.lastPosition.lng&&this.api.getAddressFromCoords(Number(this.lastPosition.lat),Number(this.lastPosition.lng)).subscribe(t=>{this.user.current_position=t.address.road},t=>{console.log(t)})}sendWhatsAppMessage(t){t.preventDefault();const e=`https://wa.me/?text=${encodeURIComponent(`Informaci\xf3n:\n\nNombre: ${this.user.name}\nC\xe9dula: ${this.user.ci}\nTel\xe9fono: ${this.user.phone}\nDirecci\xf3n: ${this.user.address}\nUbicaci\xf3n: https://www.google.com/maps/search/?api=1&query=${this.lastPosition.lat},${this.lastPosition.lng}`)}`;window.open(e,"_blank")}getUserPosition(t){this.api.getUserPosition(t).subscribe(t=>{this.lastPosition=t.body.position,this.convertCoordsToAddress()},t=>{console.log("ERR UP: ",t)})}createForm(){this.form=this.fb.group({comment:["",[o.kI.required]]})}close(t){this.dialogRef.close(t)}getUser(){return localStorage.getItem("id-sh")}handleCoordinates(t){console.log("Received coordinates:",t)}showAlert(t,e,i,n){var o=this;return(0,w.Z)(function*(){return yield E().fire({title:e,text:i,type:t,buttonsStyling:!1,confirmButtonClass:n,allowOutsideClick:!1}).then(e=>{e.value&&"info"!==t&&"warning"!==t&&o.close("close")})})()}}return t.\u0275fac=function(e){return new(e||t)(C.Y36(S.so),C.Y36(S.uw),C.Y36(S.WI),C.Y36(o.qu),C.Y36(U.s),C.Y36(R))},t.\u0275cmp=C.Xpm({type:t,selectors:[["app-info-alerts"]],viewQuery:function(t,e){if(1&t&&C.Gf(D,5),2&t){let t;C.iGM(t=C.CRH())&&(e.mapCard=t.first)}},decls:55,vars:10,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"row"],[1,"map-container"],[3,"lat","lng","heightE"],["mapCard",""],[1,"info-card"],["href","#",3,"click"],[1,"fab","fa-whatsapp"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","comment","formControlName","comment"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"]],template:function(t,e){1&t&&(C.TgZ(0,"div",0),C.TgZ(1,"h6",1),C._uU(2,"Informaci\xf3n alerta"),C.qZA(),C.TgZ(3,"button",2),C.NdJ("click",function(){return e.close()}),C._UZ(4,"i",3),C.qZA(),C.qZA(),C.TgZ(5,"mat-dialog-content",4),C.TgZ(6,"form",5),C.TgZ(7,"div",6),C.TgZ(8,"div",7),C.TgZ(9,"div",6),C.TgZ(10,"div",8),C._UZ(11,"app-map-card",9,10),C.TgZ(13,"div",11),C.TgZ(14,"strong"),C._uU(15,"Usuario"),C.qZA(),C._UZ(16,"br"),C.TgZ(17,"p"),C.TgZ(18,"small"),C._uU(19,"Nombre: "),C.TgZ(20,"strong"),C._uU(21),C.qZA(),C.qZA(),C._UZ(22,"br"),C.TgZ(23,"small"),C._uU(24,"C\xe9dula: "),C.TgZ(25,"strong"),C._uU(26),C.qZA(),C.qZA(),C._UZ(27,"br"),C.TgZ(28,"small"),C._uU(29,"Tel\xe9fono: "),C.TgZ(30,"strong"),C._uU(31),C.qZA(),C.qZA(),C._UZ(32,"br"),C.TgZ(33,"small"),C._uU(34,"Direcci\xf3n: "),C.TgZ(35,"strong"),C._uU(36),C.qZA(),C.qZA(),C._UZ(37,"br"),C.TgZ(38,"small"),C._uU(39,"Direcci\xf3n Actual: "),C.TgZ(40,"strong"),C._uU(41),C.qZA(),C.qZA(),C._UZ(42,"br"),C.TgZ(43,"a",12),C.NdJ("click",function(t){return e.sendWhatsAppMessage(t)}),C._UZ(44,"i",13),C._uU(45," Compartir "),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(46,"div",7),C.TgZ(47,"div",6),C.TgZ(48,"mat-form-field",14),C.TgZ(49,"mat-label"),C._uU(50,"Motivo de alerta"),C.qZA(),C._UZ(51,"input",15),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(52,"div",16),C.TgZ(53,"button",17),C.NdJ("click",function(){return e.postComment()}),C._uU(54," Guardar "),C.qZA(),C.qZA()),2&t&&(C.xp6(6),C.Q6J("formGroup",e.form),C.xp6(5),C.Q6J("lat",e.latE)("lng",e.lngE)("heightE",e.heightE),C.xp6(10),C.Oqu(e.user.name),C.xp6(5),C.Oqu(e.user.ci),C.xp6(5),C.Oqu(e.user.phone),C.xp6(5),C.Oqu(e.user.address),C.xp6(5),C.Oqu(e.user.current_position),C.xp6(12),C.Q6J("disabled",!e.form.valid))},directives:[S.xY,o._Y,o.JL,o.sg,I.P,F.KE,F.hX,N.Nt,o.Fj,o.JJ,o.u,S.H8],styles:[".map-container[_ngcontent-%COMP%]{position:relative;width:100%;height:55vh}.info-card[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background-color:#fff;padding:10px;border-radius:5px;box-shadow:0 2px 5px #0003;z-index:100}"]}),t})();var J=i(22176),B=["second","minute","hour","day","week","month","year"],Q=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"],$={},j=function(t,e){$[t]=e},H=[60,60,24,7,365/7/12,12];function V(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}var X=function(t,e,i){var n=function(t,e){return(+(e?V(e):new Date)-+V(t))/1e3}(t,i&&i.relativeDate);return function(t,e){for(var i=t<0?1:0,n=t=Math.abs(t),o=0;t>=H[o]&&o<H.length;o++)t/=H[o];return(t=Math.floor(t))>(0==(o*=2)?9:1)&&(o+=1),e(t,o,n)[i].replace("%s",t.toString())}(n,function(t){return $[t]||$.en_US}(e))};j("en_US",function(t,e){if(0===e)return["just now","right now"];var i=B[Math.floor(e/2)];return t>1&&(i+="s"),[t+" "+i+" ago","in "+t+" "+i]}),j("zh_CN",function(t,e){if(0===e)return["\u521a\u521a","\u7247\u523b\u540e"];var i=Q[~~(e/2)];return[t+" "+i+"\u524d",t+" "+i+"\u540e"]});var G=i(3288),W=i(51095),z=i(76627);function K(t,e){1&t&&(C.TgZ(0,"div",9),C._UZ(1,"i",10),C.qZA())}const tt=function(){return{color:"green"}};function et(t,e){if(1&t&&(C.TgZ(0,"div",11),C.TgZ(1,"div",12),C.TgZ(2,"mat-icon",13),C._uU(3,"wifi"),C.qZA(),C.qZA(),C.TgZ(4,"div",14),C.TgZ(5,"div"),C._uU(6,"En l\xednea"),C.qZA(),C.TgZ(7,"div"),C._uU(8),C.qZA(),C.TgZ(9,"div"),C._uU(10),C.ALo(11,"date"),C.qZA(),C.qZA(),C.qZA()),2&t){const t=C.oxw();C.xp6(2),C.Q6J("ngStyle",C.DdM(6,tt)),C.xp6(6),C.Oqu(t.connectedTimeAgo),C.xp6(2),C.Oqu(C.xi3(11,3,t.connectedAt,"dd/MM/yy HH:mm"))}}const it=function(){return{color:"red"}};function nt(t,e){if(1&t&&(C.TgZ(0,"div",11),C.TgZ(1,"div",12),C.TgZ(2,"mat-icon",13),C._uU(3,"wifi"),C.qZA(),C.qZA(),C.TgZ(4,"div",14),C.TgZ(5,"div"),C._uU(6,"Fuera de l\xednea"),C.qZA(),C.TgZ(7,"div"),C._uU(8),C.qZA(),C.TgZ(9,"div"),C._uU(10),C.ALo(11,"date"),C.qZA(),C.qZA(),C.qZA()),2&t){const t=C.oxw();C.xp6(2),C.Q6J("ngStyle",C.DdM(6,it)),C.xp6(6),C.Oqu(t.connectedTimeAgo),C.xp6(2),C.Oqu(C.xi3(11,3,t.connectedAt,"dd/MM/yy HH:mm"))}}function ot(t,e){1&t&&(C.TgZ(0,"div",9),C._UZ(1,"i",10),C.qZA())}function st(t,e){if(1&t&&(C.TgZ(0,"div",11),C.TgZ(1,"div",12),C.TgZ(2,"mat-icon",13),C._uU(3,"power"),C.qZA(),C.qZA(),C.TgZ(4,"div",14),C.TgZ(5,"div"),C._uU(6,"Revisi\xf3n conectado"),C.qZA(),C.TgZ(7,"div"),C._uU(8),C.qZA(),C.TgZ(9,"div"),C._uU(10),C.ALo(11,"date"),C.qZA(),C.qZA(),C.qZA()),2&t){const t=C.oxw();C.xp6(2),C.Q6J("ngStyle",C.DdM(6,tt)),C.xp6(6),C.Oqu(t.powerOutageTimeAgo),C.xp6(2),C.Oqu(C.xi3(11,3,t.powerOutageAt,"dd/MM/yy HH:mm"))}}function rt(t,e){if(1&t&&(C.TgZ(0,"div",11),C.TgZ(1,"div",12),C.TgZ(2,"mat-icon",13),C._uU(3,"power"),C.qZA(),C.qZA(),C.TgZ(4,"div",14),C.TgZ(5,"div"),C._uU(6,"Revisi\xf3n desconectado"),C.qZA(),C.TgZ(7,"div"),C._uU(8),C.qZA(),C.TgZ(9,"div"),C._uU(10),C.ALo(11,"date"),C.qZA(),C.qZA(),C.qZA()),2&t){const t=C.oxw();C.xp6(2),C.Q6J("ngStyle",C.DdM(6,it)),C.xp6(6),C.Oqu(t.powerOutageTimeAgo),C.xp6(2),C.Oqu(C.xi3(11,3,t.powerOutageAt,"dd/MM/yy HH:mm"))}}function at(t,e){1&t&&(C.TgZ(0,"div",9),C._UZ(1,"i",10),C.qZA())}function ct(t,e){if(1&t&&(C.TgZ(0,"div",11),C.TgZ(1,"div",12),C.TgZ(2,"mat-icon",13),C._uU(3,"battery_alert"),C.qZA(),C.qZA(),C.TgZ(4,"div",14),C.TgZ(5,"div"),C._uU(6),C.qZA(),C.TgZ(7,"div"),C._uU(8),C.qZA(),C.TgZ(9,"div"),C._uU(10),C.ALo(11,"date"),C.qZA(),C.qZA(),C.qZA()),2&t){const t=C.oxw();C.xp6(2),C.Q6J("ngStyle",C.DdM(7,it)),C.xp6(4),C.hij("",t.batteryStatus,"V"),C.xp6(2),C.Oqu(t.batteryStatusTimeAgo),C.xp6(2),C.Oqu(C.xi3(11,4,t.batteryStatusAt,"dd/MM/yy HH:mm"))}}function lt(t,e){if(1&t&&(C.TgZ(0,"div",11),C.TgZ(1,"div",12),C.TgZ(2,"mat-icon",13),C._uU(3,"battery_alert"),C.qZA(),C.qZA(),C.TgZ(4,"div",14),C.TgZ(5,"div"),C._uU(6),C.qZA(),C.TgZ(7,"div"),C._uU(8),C.qZA(),C.TgZ(9,"div"),C._uU(10),C.ALo(11,"date"),C.qZA(),C.qZA(),C.qZA()),2&t){const t=C.oxw();C.xp6(2),C.Q6J("ngStyle",C.DdM(7,tt)),C.xp6(4),C.hij("",t.batteryStatus,"V"),C.xp6(2),C.Oqu(t.batteryStatusTimeAgo),C.xp6(2),C.Oqu(C.xi3(11,4,t.batteryStatusAt,"dd/MM/yy HH:mm"))}}function ut(t,e){if(1&t){const t=C.EpF();C.TgZ(0,"div",15),C.TgZ(1,"button",16),C.NdJ("click",function(){const e=C.CHM(t).$implicit;return C.oxw().sendCommand(e)}),C._uU(2),C.qZA(),C.qZA()}if(2&t){const t=e.$implicit;C.xp6(2),C.Oqu(t.text)}}let ht=(()=>{class t{constructor(t,e,i,n,o,s){this.dialogRef=t,this.dialog=e,this.data=i,this.events=n,this.socketService=o,this.apiService=s,this.name="",this.identifier="",this.alerts=[{text:"SOS",value:"1"},{text:"SOSPECHOSO",value:"2"},{text:"INUNDACI\xd3N",value:"6"},{text:"TERREMOTO",value:"7"},{text:"DISUASIVA",value:"10"},{text:"LIBADORES",value:"11"},{text:"EXTORSIONADOR",value:"12"},{text:"P0",value:"13"},{text:"P1",value:"14"},{text:"P2",value:"15"}],this.icons=[],this.connected="",this.connectedAt=new Date,this.connectedTimeAgo="",this.powerOutage="",this.powerOutageAt=new Date,this.powerOutageTimeAgo="",this.doorOpen="",this.doorOpenAt=new Date,this.doorOpenTimeAgo="",this.batteryStatus=null,this.batteryStatusAt=new Date,this.batteryStatusTimeAgo="",this.threshold=12,j("es",G.Z),this.name=i.name,this.identifier=i.identifier}ngOnInit(){this.getLastStats(),this.socketService.socketConnect(`actions-${this.identifier}`)}getLastStats(){this.apiService.getCentralInformationLast("battery-status",this.identifier).subscribe(t=>{this.batteryStatus=t.boxStats[0].batteryStatus,this.batteryStatusAt=new Date(t.boxStats[0].createdAt),this.batteryStatusTimeAgo=X(this.batteryStatusAt,"es")}),this.apiService.getCentralInformationLast("sensor-status",this.identifier).subscribe(t=>{console.log("sensor status",t)}),this.apiService.getCentralInformationLast("power-outage",this.identifier).subscribe(t=>{this.powerOutage=t.boxStats[0].powerOutage,this.powerOutageAt=new Date(t.boxStats[0].createdAt),this.powerOutageTimeAgo=X(this.powerOutageAt,"es")}),this.apiService.getCentralInformationLast("connected",this.identifier).subscribe(t=>{this.connected=t.boxStats[0].connected,this.connectedAt=new Date(t.boxStats[0].createdAt),this.connectedTimeAgo=X(this.connectedAt,"es")})}sendCommand(t){this.socketService.publishMqttMessage(`alarma/${this.identifier}`,t.value,{qos:1,retain:!0}),console.log(`Comando enviado: alarma/${this.identifier} = ${t.value}`)}close(t){this.dialogRef.close({opt:t})}}return t.\u0275fac=function(e){return new(e||t)(C.Y36(S.so),C.Y36(S.uw),C.Y36(S.WI),C.Y36(c.ju),C.Y36(R),C.Y36(U.s))},t.\u0275cmp=C.Xpm({type:t,selectors:[["app-actions"]],decls:19,vars:11,consts:[["mat-dialog-title","",1,"mat-typography"],[1,"status-container"],["class","loading-spinner",4,"ngIf"],["class","status-item",4,"ngIf"],[1,"grid-container"],["class","grid-item",4,"ngFor","ngForOf"],[1,"center-button-container"],["mat-button","",1,"custom-mat-button-red",3,"click"],["tabindex","-1","cdkFocusInitial",""],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"],[1,"status-item"],[1,"icon-container"],[3,"ngStyle"],[1,"text-container"],[1,"grid-item"],["mat-button","",1,"custom-mat-button",3,"click"]],template:function(t,e){1&t&&(C.TgZ(0,"h2",0),C._uU(1),C.qZA(),C.TgZ(2,"mat-dialog-content"),C.TgZ(3,"div",1),C.YNc(4,K,2,0,"div",2),C.YNc(5,et,12,7,"div",3),C.YNc(6,nt,12,7,"div",3),C.YNc(7,ot,2,0,"div",2),C.YNc(8,st,12,7,"div",3),C.YNc(9,rt,12,7,"div",3),C.YNc(10,at,2,0,"div",2),C.YNc(11,ct,12,8,"div",3),C.YNc(12,lt,12,8,"div",3),C.qZA(),C.TgZ(13,"div",4),C.YNc(14,ut,3,1,"div",5),C.qZA(),C.TgZ(15,"div",6),C.TgZ(16,"button",7),C.NdJ("click",function(){return e.sendCommand({value:"0"})}),C._uU(17,"Apagar"),C.qZA(),C.qZA(),C.qZA(),C._UZ(18,"div",8)),2&t&&(C.xp6(1),C.Oqu(e.name),C.xp6(3),C.Q6J("ngIf",null==e.connected||""==e.connected),C.xp6(1),C.Q6J("ngIf","1"==e.connected),C.xp6(1),C.Q6J("ngIf","1"!=e.connected&&null!=e.connected&&""!=e.connected),C.xp6(1),C.Q6J("ngIf",null==e.powerOutage||""==e.powerOutage),C.xp6(1),C.Q6J("ngIf","1"==e.powerOutage),C.xp6(1),C.Q6J("ngIf","1"!=e.powerOutage&&null!=e.powerOutage&&""!=e.powerOutage),C.xp6(1),C.Q6J("ngIf",null==e.batteryStatus),C.xp6(1),C.Q6J("ngIf",e.batteryStatus<=e.threshold&&null!=e.batteryStatus),C.xp6(1),C.Q6J("ngIf",e.batteryStatus>e.threshold&&null!=e.batteryStatus),C.xp6(2),C.Q6J("ngForOf",e.alerts))},directives:[S.uh,S.xY,n.O5,n.sg,W.lW,z.Hw,n.PC],pipes:[n.uU],styles:['@charset "UTF-8";.btn-actions[_ngcontent-%COMP%]{height:100%!important;width:120%;display:flex;justify-content:center;align-items:center;border:1px solid gray;border-radius:100%;margin-left:auto;margin-right:auto;text-align:center!important}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:10px;gap:10px}.grid-item[_ngcontent-%COMP%]{display:flex;justify-content:center}button[mat-button][_ngcontent-%COMP%]{width:100%}.custom-mat-button[_ngcontent-%COMP%]{border:2px solid #ADD8E6!important;border-radius:8px!important;background-color:transparent!important}.custom-mat-button[_ngcontent-%COMP%]:hover{background-color:#add8e6!important;color:#fff!important}.custom-mat-button-red[_ngcontent-%COMP%]{border:2px solid #E57373!important;border-radius:8px!important;background-color:transparent!important}.custom-mat-button-red[_ngcontent-%COMP%]:hover{background-color:#e57373!important;color:#fff!important}.center-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;margin-left:30%;margin-right:30%}.status-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;grid-gap:10px;gap:10px;margin-top:20px;margin-bottom:40px}.status-item[_ngcontent-%COMP%]{display:flex;align-items:center;grid-gap:10px;gap:10px}.icon-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px}.text-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}']}),t})();var gt=i(88975),dt=i(76509);let pt=(()=>{class t{constructor(t){this.toastr=t}showSuccess(t,e){this.toastr.success(t,e,{positionClass:"toast-top-left"})}showError(t,e){this.toastr.error(t,e,{positionClass:"toast-top-left"})}showInfo(t,e){this.toastr.info(t,e,{positionClass:"toast-top-left"})}showWarning(t,e){this.toastr.warning(t,e,{positionClass:"toast-top-left"})}}return t.\u0275fac=function(e){return new(e||t)(C.LFG(dt._W))},t.\u0275prov=C.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var mt=i(67441),ft=i(72458);const At=["audioPlayer"];function Zt(t,e){if(1&t&&(C.TgZ(0,"mat-option",23),C._uU(1),C.qZA()),2&t){const t=e.$implicit;C.Q6J("value",t._id),C.xp6(1),C.hij(" TEAM - ",t.name," ")}}function vt(t,e){1&t&&C._UZ(0,"i",24)}function yt(t,e){if(1&t){const t=C.EpF();C.TgZ(0,"div",25),C.TgZ(1,"span",26),C.NdJ("click",function(){const e=C.CHM(t).$implicit;return C.oxw().showAlertInfo(e)}),C.TgZ(2,"mat-icon"),C._uU(3,"notifications_active"),C.qZA(),C.qZA(),C.TgZ(4,"div",27),C.TgZ(5,"div",28),C.TgZ(6,"div"),C.TgZ(7,"span",29),C._uU(8),C.qZA(),C._UZ(9,"br"),C.TgZ(10,"small",30),C._uU(11),C.qZA(),C.qZA(),C.TgZ(12,"div",31),C.TgZ(13,"small",32),C._UZ(14,"i",33),C._uU(15),C.ALo(16,"date"),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA()}if(2&t){const t=e.$implicit,i=C.oxw();C.xp6(8),C.AsE(" ",i.getTypeAlert(t.type).type," - ",t.access.name," "),C.xp6(3),C.Oqu(t.user.name),C.xp6(4),C.hij(" ",C.xi3(16,4,t.date,"HH:mm")," ")}}const _t=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,e,i,n,s){this._api=t,this.fb=e,this.dialog=i,this.notifyService=n,this.socketService=s,this.isLoadingAlerts=!1,this.isConnect=!1,this.alerts=[],this.markers={},this.fit=!0,this.fitF=!0,this.center=!1,this.word="",this.teams=[],this.neighborhoods=[],this.pagination={page:1,pages:1,itemsPage:500,total:1},this.wordToSearch="",this.teamsCtrl=new o.NI,this.layerRegistry={},this.isSound=!1,this.isBouncing=!1,this.singleClickListener=null,this.topicMessageCount={}}ngOnInit(){this.loadOpenStreet(),this.createForm(),this.getTeams(),this.listenMqttMessages(),this.map.getView().on("change:resolution",()=>{const t=this.map.getView().getZoom();this.updateMarkerStyles(t)})}updateMarkerStyles(t){for(const e in this.markers)if(this.markers.hasOwnProperty(e)){const t=this.markers[e],i=t.getStyle();let n=i.getText();n||(n=new b({})),n.setText(t.get("name")),n.setFont("10px sans-serif"),i.setText(n),t.setStyle(i)}}listenMqttMessages(){this.socketService.socketConnect("map-component"),this.socketService.listenForMqttMessages().subscribe(t=>{const e=t.topic,i=t.message,n=e.split("/")[1];if(e.includes("alarma")){if(console.log("ENTRA EN TOPIC ALARMA:",e,i),i.toString().includes("0"))return;this.manageAlarms(n,i)}console.log("MENSAJE MQTT RECIBIDO:",e,i);const o=this.neighborhoods.find(t=>t.identifier===n),s=i.toString().substring(0,1),r=i.toString().substring(1,i.toString().length);o&&this.typesAlert(o,s,r)})}manageAlarms(t,e){if(this.topicMessageCount[t]||(this.topicMessageCount[t]=0),console.log("SUENA: ",this.topicMessageCount),this.topicMessageCount[t]++,this.topicMessageCount[t]>1){this.getAlerts();const i=e.toString("utf-8");if(console.log("ESTO 1: ",i),i.includes("out")){console.log("ENTRA EN OUT");const t=JSON.parse(i.split("*")[1]);if(this.notifyService.showError("Fuera de cobertura",`${t.name} - Emiti\xf3 una alerta`),!this.markers[t._id]){const e=new f.Z({geometry:new A.Z([parseFloat(t.lng),parseFloat(t.lat)]).transform("EPSG:4326","EPSG:3857"),name:t.name,id:t._id});this.markers[t._id]=e}return}Number(i)<10&&(console.log("ENTRA EN ESTO con IS NUMBER"),this.changePinColor(t))}}typesAlert(t,e,i){let n="";switch(e){case"C":n="0"===i?"Central corte de corriente":"Revisi\xf3n estado corriente correcto";break;case"D":"0"===i?(n="Central fuera de l\xednea",this.setMarkerStyle(this.markers[t.identifier],"pin-disconnect")):(n="Central central en l\xednea",this.setMarkerStyle(this.markers[t.identifier],"pin"));break;case"P":n="0"===i?"Puerta central abierta":"Puerta central cerrada";break;case"B":n=`Estado de la bateria ${i}`}}createForm(){this.searchForm=this.fb.group({value:[this.teams[0]]})}centerMap(){const t=this.neighborhoods.map(t=>[parseFloat(t.lng),parseFloat(t.lat)]),e=t.reduce((t,e)=>[t[0]+e[0],t[1]+e[1]],[0,0]);e[0]/=t.length,e[1]/=t.length,this.map.getView().setCenter((0,q.mi)(e));const i=this.calculateZoomForPoints(this.neighborhoods);this.map.getView().setZoom(i)}clearMapState(){this.markers={},this.topicMessageCount={};for(const t in this.layerRegistry)this.layerRegistry.hasOwnProperty(t)&&this.map.removeLayer(this.layerRegistry[t]);this.layerRegistry={},this.neighborhoods=[],this.singleClickListener&&((0,gt.B)(this.singleClickListener),this.singleClickListener=null)}setMarker(t,e){if(t)t.set("connected",e.connected),this.setMarkerStyle(t,e.connected?"pin":"pin-disconnect");else{const t=new f.Z({geometry:new A.Z([parseFloat(e.lng),parseFloat(e.lat)]).transform("EPSG:4326","EPSG:3857"),name:e.name,connected:e.connected,identifier:e.identifier});this.markers[e.identifier]=t,this.setMarkerStyle(t,e.connected?"pin":"pin-disconnect")}}setMarkerStyle(t,e){const i=new b({text:"",offsetY:12,fill:new v.Z({color:"black"}),font:"bold 14px Arial",backgroundFill:new v.Z({color:"white"}),padding:[3,3,3,3]});this.markerStyle=new Z.ZP({image:new k.Z({crossOrigin:"anonymous",anchor:[24,48],anchorXUnits:T.Z.PIXELS,anchorYUnits:T.Z.PIXELS,src:`${x.U}/view/${e}`}),text:i});let n=this.markerStyle.getText();n||(n=new b({})),n.setText(t.get("name")),n.setFont("10px sans-serif"),this.markerStyle.setText(n),t.setStyle(this.markerStyle)}getNeighborhoodByTeam(t){this.clearMapState(),this._api.getNeighborhoodByTeam(t,this.pagination.page,this.pagination.itemsPage,this.wordToSearch).subscribe(t=>{this.neighborhoods=t.body.neighborhoods,this.centerMap(),this.neighborhoods.forEach(t=>{console.log("Monitoring neighborhood:",t.identifier),this.setMarker(this.markers[t.identifier],t);const e=new m.Z({features:[this.markers[t.identifier]]}),i=new p.Z({source:e});i.set("layerId",t._id),this.layerRegistry[t._id]=i,this.map.addLayer(i)}),this.singleClickListener&&(0,gt.B)(this.singleClickListener),this.singleClickListener=this.map.on("singleclick",t=>{this.map.forEachFeatureAtPixel(t.pixel,(t,e)=>{if(t){const e=t.get("name"),i=t.get("connected"),n=t.get("identifier");this.dialog.open(ht,{width:"60%",data:{name:e,connected:i,identifier:n}})}})})})}calculateZoomForPoints(t){if(0===t.length)return 2;const e=Math.min(...t.map(t=>parseFloat(t.lng))),i=Math.min(...t.map(t=>parseFloat(t.lat))),n=Math.max(...t.map(t=>parseFloat(t.lng)))-e,o=Math.max(...t.map(t=>parseFloat(t.lat)))-i,s=document.getElementById("map"),r=Math.max(n/s.clientWidth,o/s.clientHeight);return Math.log2(360/(256*r))-1}loadOpenStreet(){this.map=new l.Z({controls:(0,d.ce)({zoom:!1,rotate:!1}),target:"map",layers:[new h.Z({source:new g.Z({url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png"})})],view:new u.ZP({center:[0,0],zoom:2,maxZoom:19,minZoom:2})})}getTeams(){this._api.getTeams(this.pagination.page,this.pagination.itemsPage,this.wordToSearch).subscribe(t=>{this.teams=t.body.teams,this.teams.length>0&&(this.searchForm.patchValue({value:this.teams[0]._id}),this.selected(this.searchForm.value.value))})}selected(t){this.markers={},this.neighborhoods=[],this.getNeighborhoodByTeam(t),this.teamSelectedId=t,this.alerts=[],this.getAlerts()}getAlerts(){this.isLoadingAlerts=!0,this._api.getAlertsByTeam(this.teamSelectedId).subscribe(t=>{this.alerts=t.body.alerts,this.isLoadingAlerts=!1},t=>{(0,J.w)("error","Error",`Algo ha salido mal, intente m\xe1s tarde!\n${t}`,"btn btn-info")})}changePinColor(t){if(t&&this.markers[t]){for(let e=0;e<20;e++)setTimeout(()=>{19===e&&(this.setMarkerStyle(this.markers[t],"pin"),this.stopSound()),this.setMarkerStyle(this.markers[t],e%2==0?"pin4":this.markers[t].get("connected")?"pin":"pin-disconnect")},500*e);this.isSound||this.playSound()}}getTypeAlert(t){let e,i,n="assets/img/icons/rumi_black.png";switch(t){case"ALERT_1":e="ALERTA DE SOS",i="assets/img/alerts/policebtn.png";break;case"ALERT_2":e="ALERTA DE SOSPECHOSO",i="assets/img/alerts/suspect.png";break;case"ALERT_3":e="ALERTA SILENCIOSA",i="assets/img/alerts/silencio.png";break;case"ALERT_4":e="ALERTA DE MI UBICACI\xd3N",i=n;break;case"ALERT_5":e="ALERTA DE VIOLENCIA DE G\xc9NERO",i="assets/img/alerts/genero.png";break;case"ALERT_6":e="ALERTA DE INUNDACI\xd3N",i="assets/img/alerts/flood.png";break;case"ALERT_7":e="ALERTA DE TERREMOTO",i="assets/img/alerts/earthquake.png";break;case"ALERT_10":e="ALERTA DISUASIVA",i=n;break;case"ALERT_11":e="ALERTA DE LIBADORES",i=n;break;case"ALERT_12":e="ALERTA DE EXTORSIONADOR",i=n;break;case"ALERT_13":e="ALERTA P0",i=n;break;case"ALERT_14":e="ALERTA P1",i=n;break;case"ALERT_15":e="ALERTA P2",i=n}return{type:e,img:i}}playSound(){this.audioPlayer.nativeElement.play()}stopSound(){const t=this.audioPlayer.nativeElement;t.pause(),t.currentTime=0}showAlertInfo(t){this.dialog.open(Y,{width:"60%",data:{user:t.user,idAlert:t._id}}).afterClosed().subscribe(t=>{void 0!==t&&(this.alerts=[],this.getAlerts())})}}return t.\u0275fac=function(e){return new(e||t)(C.Y36(U.s),C.Y36(o.qu),C.Y36(S.uw),C.Y36(pt),C.Y36(R))},t.\u0275cmp=C.Xpm({type:t,selectors:[["app-map"]],viewQuery:function(t,e){if(1&t&&C.Gf(At,5),2&t){let t;C.iGM(t=C.CRH())&&(e.audioPlayer=t.first)}},decls:33,vars:4,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12"],[1,"card"],[1,"header"],[1,"h4","title"],["title","Centrar",2,"float","right","cursor","pointer",3,"click"],[1,"category"],[1,"form-horizontal",3,"formGroup"],["id","map",1,"map"],["appearance","outline",1,"col-xs-3","col-sm-3","col-md-3","custom-input",2,"border","2px #000000"],["name","value","formControlName","value",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","card-alert",1,"card"],[1,"card-header"],[1,"h6","mb-0","text-center",2,"font-weight","bold"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"card-body"],["data-timeline-axis-style","dashed","data-timeline-content","axis",1,"timeline","timeline-one-side"],["class","timeline-block","style","margin-top: -2vh !important;",4,"ngFor","ngForOf"],["audioPlayer",""],["src","assets/notification.mp3","type","audio/mp3"],[3,"value"],[1,"fas","fa-spinner","fa-spin"],[1,"timeline-block",2,"margin-top","-2vh !important"],["title","Ver m\xe1s",1,"timeline-step","badge-warning",2,"cursor","pointer",3,"click"],[1,"timeline-content"],[1,"d-flex","justify-content-between"],[1,"text-sm","font-weight-bold"],[2,"font-weight","500"],[1,"text-right"],[1,"text-muted"],[1,"fas","fa-clock","mr-1"]],template:function(t,e){1&t&&(C.TgZ(0,"div",0),C.TgZ(1,"div",1),C.TgZ(2,"div",2),C.TgZ(3,"div",3),C.TgZ(4,"div",4),C.TgZ(5,"div",5),C.TgZ(6,"strong",6),C._uU(7,"SALA DE MONITOREO"),C.qZA(),C.TgZ(8,"mat-icon",7),C.NdJ("click",function(){return e.centerMap()}),C._uU(9,"center_focus_strong"),C.qZA(),C._UZ(10,"p",8),C.qZA(),C._UZ(11,"br"),C.TgZ(12,"div",3),C.TgZ(13,"div",2),C.TgZ(14,"form",9),C.TgZ(15,"div",10),C.TgZ(16,"mat-form-field",11),C.TgZ(17,"mat-label"),C._uU(18," Teams"),C.qZA(),C.TgZ(19,"mat-select",12),C.NdJ("selectionChange",function(t){return e.selected(t.value)}),C.YNc(20,Zt,2,2,"mat-option",13),C.qZA(),C.qZA(),C.TgZ(21,"div",14),C.TgZ(22,"div",15),C.TgZ(23,"h5",16),C._uU(24," Alertas Pendientes "),C.YNc(25,vt,1,0,"i",17),C.qZA(),C.qZA(),C.TgZ(26,"div",18),C.TgZ(27,"div",19),C.YNc(28,yt,17,7,"div",20),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.qZA(),C.TgZ(29,"audio",null,21),C._UZ(31,"source",22),C._uU(32," Tu navegador no soporta la reproducci\xf3n de audio. "),C.qZA(),C.qZA(),C.qZA()),2&t&&(C.xp6(14),C.Q6J("formGroup",e.searchForm),C.xp6(6),C.Q6J("ngForOf",e.teams),C.xp6(5),C.Q6J("ngIf",e.isLoadingAlerts),C.xp6(3),C.Q6J("ngForOf",e.alerts))},directives:[z.Hw,o._Y,o.JL,o.sg,F.KE,F.hX,mt.gD,o.JJ,o.u,n.sg,n.O5,ft.ey],pipes:[n.uU],styles:['@charset "UTF-8";#map[_ngcontent-%COMP%]{width:100%;height:75vh!important;position:relative}#card-alert[_ngcontent-%COMP%]{width:35vh;height:30vh;position:absolute;background-color:#fff;opacity:.8;right:2vh;bottom:-2vh;z-index:1000}#card-alert[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{height:10vh!important;overflow-y:auto!important}.custom-input[_ngcontent-%COMP%]{position:absolute;margin-left:auto;margin-right:auto;right:10px;top:10px;z-index:1000}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff;border:none!important;border-radius:7px}']}),t})()}]}];var bt=i(75920);let Tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=C.oAB({type:t}),t.\u0275inj=C.cJS({providers:[c.ju],imports:[[n.ez,o.u5,o.UX,s.P4.forRoot(),dt.Rh.forRoot({timeOut:1e4,positionClass:"toast-bottom-right",preventDuplicates:!0}),r.Bz.forChild(_t),a.q,bt.K]]}),t})()}}]);