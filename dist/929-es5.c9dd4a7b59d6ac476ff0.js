!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function o(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[929],{4929:function(e,i,r){r.r(i),r.d(i,{ListNeighbourModule:function(){return $}});var n=r(38583),a=r(3679),s=r(22238),l=r(81534),u=r(22176),c=r(13506),h=r(82298),d=r(37716),g=r(84678),m=r(46524),p=r(97832),f=r(98295),Z=r(49983),b=r(76627),v=r(67441),A=r(72458),q=r(51095),y=r(39209);function T(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function x(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function w(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function N(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function k(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function _(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Tipo es obligatorio "),d.qZA())}function B(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function U(t,e){1&t&&(d.TgZ(0,"button",25,26),d._uU(2," Siguiente "),d.qZA())}function C(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"button",33,26),d.NdJ("click",function(){return d.CHM(o),d.oxw().configNeighs()}),d._uU(2," Finalizar "),d.qZA()}}function I(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function F(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"mat-step",34),d.TgZ(1,"form",8),d.TgZ(2,"div",9),d.TgZ(3,"mat-form-field",11),d.TgZ(4,"mat-label"),d._uU(5,"Bot\xf3n 1"),d.qZA(),d._UZ(6,"input",35),d.YNc(7,I,2,0,"mat-error",13),d.qZA(),d.TgZ(8,"mat-form-field",11),d.TgZ(9,"mat-label"),d._uU(10,"Bot\xf3n 4"),d.qZA(),d._UZ(11,"input",36),d.qZA(),d.qZA(),d.TgZ(12,"div",9),d.TgZ(13,"mat-form-field",11),d.TgZ(14,"mat-label"),d._uU(15,"Bot\xf3n 2"),d.qZA(),d._UZ(16,"input",37),d.qZA(),d.TgZ(17,"mat-form-field",11),d.TgZ(18,"mat-label"),d._uU(19,"Bot\xf3n Wifi"),d.qZA(),d._UZ(20,"input",38),d.qZA(),d.qZA(),d.TgZ(21,"div",9),d.TgZ(22,"mat-form-field",11),d.TgZ(23,"mat-label"),d._uU(24,"Bot\xf3n 3"),d.qZA(),d._UZ(25,"input",39),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",23),d.TgZ(27,"button",24),d._uU(28," Anterior "),d.qZA(),d.TgZ(29,"button",33,26),d.NdJ("click",function(){return d.CHM(o),d.oxw().configNeighs()}),d._uU(31," Finalizar "),d.qZA(),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.Q6J("stepControl",i.formBtns),d.xp6(1),d.Q6J("formGroup",i.formBtns),d.xp6(6),d.Q6J("ngIf",i.errorsBtnForm.physicalBtn.touched&&(null==i.errorsBtnForm.physicalBtn.errors?null:i.errorsBtnForm.physicalBtn.errors.required))}}var J,E=((J=function(){return o(function e(o,i,r,n,s,l){var u;t(this,e),this.dialogRef=o,this.dialog=i,this.data=r,this.fb=n,this.api=s,this.events=l,this.title="",this.isButton=!1,this.idNeighbourhood="",this.access="",this.showPassword=!1,this.filesControl=new a.NI(null,c.Fz.filesLimit(1)),this.files=[],this.company="",this.latE=null,this.lngE=null,this.heightE="50%",o.disableClose=!0,this.title=r.title,this.neighs=r.neigh,this.idNeighbourhood=r.idNeighbour,this.access=r.identifier,this.company="SHADOW"===r.team.name?"SHADOW":"ABIC",this.selectedBtn(!(null===(u=this.neighs)||void 0===u||!u.physicalBtn))},[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){var t,e,o,i,r,n,s,l,u,c,h,d,g,m,p,f;this.latE="Agregar"===this.title?"-2.8974172":null===(t=this.neighs)||void 0===t?void 0:t.lat,this.lngE="Agregar"===this.title?"-79.0070696":null===(e=this.neighs)||void 0===e?void 0:e.lng,this.form=this.fb.group({ci:["Agregar"===this.title?"":null===(o=this.neighs)||void 0===o?void 0:o.ci,[a.kI.required]],name:["Agregar"===this.title?"":null===(i=this.neighs)||void 0===i?void 0:i.name,[a.kI.required]],phone:["Agregar"===this.title?"":null===(r=this.neighs)||void 0===r?void 0:r.phone,[a.kI.required]],address:["Agregar"===this.title?"":null===(n=this.neighs)||void 0===n?void 0:n.address,[a.kI.required]],email:["Agregar"===this.title?"":null===(s=this.neighs)||void 0===s?void 0:s.email,[a.kI.required]],password:["Agregar"===this.title?"":null===(l=this.neighs)||void 0===l?void 0:l.password,[a.kI.required]],img:["Agregar"===this.title?"":null===(u=this.neighs)||void 0===u?void 0:u.img],imgName:["Agregar"===this.title?"":"tiene valor"],neighbourhood:[this.idNeighbourhood],company:[this.company],access:[this.access],isButton:["Agregar"!==this.title]}),this.formUbi=this.fb.group({lat:["Agregar"===this.title?"":null===(c=this.neighs)||void 0===c?void 0:c.lat,[a.kI.required]],lng:["Agregar"===this.title?"":null===(h=this.neighs)||void 0===h?void 0:h.lng,[a.kI.required]]}),this.formBtns=this.fb.group({physicalBtn:["Agregar"===this.title?"":null===(d=this.neighs)||void 0===d?void 0:d.physicalBtn],physicalBtnTwo:["Agregar"===this.title?"":null===(g=this.neighs)||void 0===g?void 0:g.physicalBtnTwo],physicalBtnThree:["Agregar"===this.title?"":null===(m=this.neighs)||void 0===m?void 0:m.physicalBtnThree],physicalBtnFour:["Agregar"===this.title?"":null===(p=this.neighs)||void 0===p?void 0:p.physicalBtnFour],physicalBtnWifi:["Agregar"===this.title?"":null===(f=this.neighs)||void 0===f?void 0:f.physicalBtnWifi]})}},{key:"onSelect",value:function(t){this.files[0]=t.addedFiles,this.filesControl=new a.NI(this.files[0],c.Fz.filesLimit(1)),this.form=this.fb.group({ci:[this.form.value.ci,[a.kI.required]],name:[this.form.value.name,[a.kI.required]],phone:[this.form.value.phone,[a.kI.required]],address:[this.form.value.address,[a.kI.required]],email:[this.form.value.email,[a.kI.required]],password:[this.form.value.password,[a.kI.required]],img:[this.filesControl],imgName:["tiene valor"],neighbourhood:[this.idNeighbourhood]})}},{key:"onRemove",value:function(t){this.files.splice(this.files.indexOf(t),1),this.filesControl=new a.NI("",c.Fz.filesLimit(1)),this.form=this.fb.group({ci:[this.form.value.ci,[a.kI.required]],name:[this.form.value.name,[a.kI.required]],phone:[this.form.value.phone,[a.kI.required]],address:[this.form.value.address,[a.kI.required]],email:[this.form.value.email,[a.kI.required]],password:[this.form.value.password,[a.kI.required]],img:[this.filesControl],imgName:[""],neighbourhood:[this.idNeighbourhood]})}},{key:"setLatLng",value:function(t){this.formUbi.patchValue({lat:t.lat}),this.formUbi.patchValue({lng:t.lng})}},{key:"configNeighs",value:function(){"Editar"===this.title?this.putneighss():this.postNeighbour()}},{key:"selectedBtn",value:function(t){this.isButton=t,this.formBtns=this.fb.group({physicalBtn:["Agregar"===this.title?"":this.neighs.physicalBtn,[a.kI.required]],physicalBtnTwo:["Agregar"===this.title?"":this.neighs.physicalBtnTwo],physicalBtnThree:["Agregar"===this.title?"":this.neighs.physicalBtnThree],physicalBtnFour:["Agregar"===this.title?"":this.neighs.physicalBtnFour],physicalBtnWifi:["Agregar"===this.title?"":this.neighs.physicalBtnWifi]})}},{key:"postNeighbour",value:function(){var t=this;(0,l.Av)(),this.api.postNeighbour({ci:this.form.value.ci,name:this.form.value.name,phone:this.form.value.phone,address:this.form.value.address,email:this.form.value.email,lat:this.formUbi.value.lat,lng:this.formUbi.value.lng,password:this.form.value.password,neighbourhood:this.form.value.neighbourhood,company:this.form.value.company,access:this.form.value.access,physicalBtn:this.formBtns.value.physicalBtn,physicalBtnTwo:this.formBtns.value.physicalBtnTwo,physicalBtnThree:this.formBtns.value.physicalBtnThree,physicalBtnFour:this.formBtns.value.physicalBtnFour,physicalBtnWifi:this.formBtns.value.physicalBtnWifi}).subscribe(function(e){200===((0,l.kU)(),null==e?void 0:e.status)?(0,u.w)("success","Correcto","Vecino creado correctamente","btn btn-fill btn-info").then(function(e){t.close()}):(0,u.w)("error","Error",e.body.message,"btn btn-fill btn-info")},function(t){(0,l.kU)(),(0,u.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}},{key:"convertFile",value:function(t){var e=new h.t(1),o=new FileReader;return o.readAsBinaryString(t),o.onload=function(t){return e.next(btoa(t.target.result.toString()))},e}},{key:"putneighss",value:function(){var t=this;this.api.putNeighbour({ci:this.form.value.ci,name:this.form.value.name,phone:this.form.value.phone,address:this.form.value.address,email:this.form.value.email,lat:this.formUbi.value.lat,lng:this.formUbi.value.lng,password:this.form.value.password,neighbourhood:this.form.value.neighbourhood,company:this.form.value.company,access:this.form.value.access,physicalBtn:this.formBtns.value.physicalBtn,physicalBtnTwo:this.formBtns.value.physicalBtnTwo,physicalBtnThree:this.formBtns.value.physicalBtnThree,physicalBtnFour:this.formBtns.value.physicalBtnFour,physicalBtnWifi:this.formBtns.value.physicalBtnWifi},this.neighs._id).subscribe(function(e){(0,l.kU)(),(0,u.w)("success","Correcto","Vecino actualizado correctamente","btn btn-fill btn-info").then(function(e){t.close()})},function(t){(0,l.kU)(),(0,u.w)("error","Error","Validation failed: email: El campo email ya est\xe1 en uso"===t.error.error.message.message?"El correo electr\xf3nico proporcionado ya est\xe1 registrado en el sistema. Por favor, ingresa un correo electr\xf3nico diferente":"Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}},{key:"errorsForm",get:function(){return this.form.controls}},{key:"errorsBtnForm",get:function(){return this.formBtns.controls}},{key:"validarNumeros",value:function(t){(t.keyCode<48||t.keyCode>57)&&(t.returnValue=!1)}},{key:"close",value:function(){this.dialogRef.close()}}])}()).\u0275fac=function(t){return new(t||J)(d.Y36(s.so),d.Y36(s.uw),d.Y36(s.WI),d.Y36(a.qu),d.Y36(g.s),d.Y36(m.ju))},J.\u0275cmp=d.Xpm({type:J,selectors:[["app-add-neighborhoods"]],decls:74,vars:22,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],[1,"rounded"],["stepper",""],["label","Datos personales","state","category",3,"stepControl"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"col-xs-12","col-sm-6","col-md-6",2,"border","2px #000000"],["matInput","","name","ci","formControlName","ci",3,"keypress"],[4,"ngIf"],["matInput","","name","email","formControlName","email"],["matInput","","name","name","formControlName","name"],["matInput","","name","password","formControlName","password",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],["matInput","","name","phone","formControlName","phone",3,"keypress"],["formControlName","isButton",3,"selectionChange"],[3,"value"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","address","formControlName","address"],["mat-dialog-actions","",1,"dialog-footer"],["id","btnPrevious","mat-button","","matStepperPrevious","",1,"left-button"],["id","btnNext","mat-button","","matStepperNext","",1,"right-button"],["next",""],["label","Ubicaci\xf3n","state","category",3,"stepControl"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[3,"lat","lng","opt","heightE","coorsEmit"],["id","btnNext","mat-button","","matStepperNext","","class","right-button",4,"ngIf"],["id","btnNext","mat-button","","matStepperNext","","class","right-button",3,"click",4,"ngIf"],["label","Botones","state","category",3,"stepControl",4,"ngIf"],["id","btnNext","mat-button","","matStepperNext","",1,"right-button",3,"click"],["label","Botones","state","category",3,"stepControl"],["matInput","","name","physicalBtn","formControlName","physicalBtn"],["matInput","","name","physicalBtnFour","formControlName","physicalBtnFour"],["matInput","","name","physicalBtnTwo","formControlName","physicalBtnTwo"],["matInput","","name","physicalBtnWifi","formControlName","physicalBtnWifi"],["matInput","","name","physicalBtnThree","formControlName","physicalBtnThree"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h6",1),d._uU(2),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return e.close()}),d._UZ(4,"i",3),d.qZA(),d.qZA(),d.TgZ(5,"mat-dialog-content",4),d.TgZ(6,"mat-horizontal-stepper",5,6),d.TgZ(8,"mat-step",7),d.TgZ(9,"form",8),d.TgZ(10,"div",9),d.TgZ(11,"div",10),d._UZ(12,"br"),d.TgZ(13,"div",9),d.TgZ(14,"mat-form-field",11),d.TgZ(15,"mat-label"),d._uU(16,"C\xe9dula"),d.qZA(),d.TgZ(17,"input",12),d.NdJ("keypress",function(t){return e.validarNumeros(t)}),d.qZA(),d.YNc(18,T,2,0,"mat-error",13),d.qZA(),d.TgZ(19,"mat-form-field",11),d.TgZ(20,"mat-label"),d._uU(21,"Correo"),d.qZA(),d._UZ(22,"input",14),d.YNc(23,x,2,0,"mat-error",13),d.qZA(),d.qZA(),d.TgZ(24,"div",9),d.TgZ(25,"mat-form-field",11),d.TgZ(26,"mat-label"),d._uU(27,"Nombre"),d.qZA(),d._UZ(28,"input",15),d.YNc(29,w,2,0,"mat-error",13),d.qZA(),d.TgZ(30,"mat-form-field",11),d.TgZ(31,"mat-label"),d._uU(32,"Contrase\xf1a"),d.qZA(),d._UZ(33,"input",16),d.TgZ(34,"mat-icon",17),d.NdJ("click",function(){return e.showPassword=!e.showPassword}),d._uU(35),d.qZA(),d.YNc(36,N,2,0,"mat-error",13),d.qZA(),d.qZA(),d.TgZ(37,"div",9),d.TgZ(38,"mat-form-field",11),d.TgZ(39,"mat-label"),d._uU(40,"Tel\xe9fono"),d.qZA(),d.TgZ(41,"input",18),d.NdJ("keypress",function(t){return e.validarNumeros(t)}),d.qZA(),d.YNc(42,k,2,0,"mat-error",13),d.qZA(),d.TgZ(43,"mat-form-field",11),d.TgZ(44,"mat-label"),d._uU(45,"Agregar Botones"),d.qZA(),d.TgZ(46,"mat-select",19),d.NdJ("selectionChange",function(t){return e.selectedBtn(t.value)}),d.TgZ(47,"mat-option",20),d._uU(48,"No"),d.qZA(),d.TgZ(49,"mat-option",20),d._uU(50,"Si"),d.qZA(),d.qZA(),d.YNc(51,_,2,0,"mat-error",13),d.qZA(),d.qZA(),d.TgZ(52,"div",9),d.TgZ(53,"mat-form-field",21),d.TgZ(54,"mat-label"),d._uU(55,"Direcci\xf3n"),d.qZA(),d._UZ(56,"input",22),d.YNc(57,B,2,0,"mat-error",13),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(58,"div",23),d.TgZ(59,"button",24),d._uU(60," Anterior "),d.qZA(),d.TgZ(61,"button",25,26),d._uU(63," Siguiente "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(64,"mat-step",27),d.TgZ(65,"div",9),d.TgZ(66,"div",28),d.TgZ(67,"app-map-card",29),d.NdJ("coorsEmit",function(t){return e.setLatLng(t)}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(68,"div",23),d.TgZ(69,"button",24),d._uU(70," Anterior "),d.qZA(),d.YNc(71,U,3,0,"button",30),d.YNc(72,C,3,0,"button",31),d.qZA(),d.qZA(),d.YNc(73,F,32,3,"mat-step",32),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.hij("",e.title," Vecino"),d.xp6(6),d.Q6J("stepControl",e.form),d.xp6(1),d.Q6J("formGroup",e.form),d.xp6(9),d.Q6J("ngIf",e.errorsForm.ci.touched&&(null==e.errorsForm.ci.errors?null:e.errorsForm.ci.errors.required)),d.xp6(5),d.Q6J("ngIf",e.errorsForm.email.touched&&(null==e.errorsForm.email.errors?null:e.errorsForm.email.errors.required)),d.xp6(6),d.Q6J("ngIf",e.errorsForm.name.touched&&(null==e.errorsForm.name.errors?null:e.errorsForm.name.errors.required)),d.xp6(4),d.Q6J("type",e.showPassword?"text":"password"),d.xp6(2),d.hij(" ",e.showPassword?"visibility_off":"visibility"," "),d.xp6(1),d.Q6J("ngIf",e.errorsForm.password.touched&&(null==e.errorsForm.password.errors?null:e.errorsForm.password.errors.required)),d.xp6(6),d.Q6J("ngIf",e.errorsForm.phone.touched&&(null==e.errorsForm.phone.errors?null:e.errorsForm.phone.errors.required)),d.xp6(5),d.Q6J("value",!1),d.xp6(2),d.Q6J("value",!0),d.xp6(2),d.Q6J("ngIf",e.errorsForm.isButton.touched&&(null==e.errorsForm.isButton.errors?null:e.errorsForm.isButton.errors.required)),d.xp6(6),d.Q6J("ngIf",e.errorsForm.address.touched&&(null==e.errorsForm.address.errors?null:e.errorsForm.address.errors.required)),d.xp6(7),d.Q6J("stepControl",e.formUbi),d.xp6(3),d.Q6J("lat",e.latE)("lng",e.lngE)("opt","click")("heightE",e.heightE),d.xp6(4),d.Q6J("ngIf",!0===e.isButton),d.xp6(1),d.Q6J("ngIf",!1===e.isButton),d.xp6(1),d.Q6J("ngIf",!0===e.isButton))},directives:[s.xY,p.Vq,p.C0,a._Y,a.JL,a.sg,f.KE,f.hX,Z.Nt,a.Fj,a.JJ,a.u,n.O5,b.Hw,f.R9,v.gD,A.ey,s.H8,q.lW,p.fd,p.Ic,y.P,f.TO],styles:['@charset "UTF-8";.custom-dropzone[_ngcontent-%COMP%]{height:80px;width:auto;background:#fff;color:#000;border:5px dashed #fff;border-radius:5px;box-shadow:0 1px 3px 1px #ced4da;font-size:20px;padding-top:30px}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{margin-top:20px;margin-left:auto;margin-right:auto;display:block}.custom-dropzone[_ngcontent-%COMP%]{height:200px;width:auto;background:#fff;color:#000;border:5px dashed #fff;border-radius:5px;box-shadow:0 1px 3px 1px #ced4da;font-size:20px;padding-top:30px}.custom-dropzone-p[_ngcontent-%COMP%]{height:150px;background:#fff;color:#000;border:2px dashed #000;border-radius:5px;box-shadow:0 1px 3px 1px #ced4da;font-size:20px}.custom-dropzone-p.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid #eb4f4f}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid black}#preview[_ngcontent-%COMP%]{display:flex;height:100px;min-height:100px;min-width:200px;max-width:200px;justify-content:center;text-align:center;align-items:center;margin:10px;border-radius:5px;position:relative}.center[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;display:block}#btnPrevious[_ngcontent-%COMP%]{background-color:#43bdd6;color:#fff}#btnNext[_ngcontent-%COMP%]{background-color:#43bdd6;color:#fff}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.left-button[_ngcontent-%COMP%]{order:1}.right-button[_ngcontent-%COMP%]{order:2}']}),J);function Y(t,e){if(1&t&&(d.TgZ(0,"small"),d._uU(1),d._UZ(2,"br"),d.qZA()),2&t){var o=e.$implicit;d.xp6(1),d.hij("",o.email," no creado ")}}function O(t,e){if(1&t&&(d.TgZ(0,"div"),d.YNc(1,Y,3,1,"small",11),d.qZA()),2&t){var o=d.oxw();d.xp6(1),d.Q6J("ngForOf",o.responsesError)}}var P=function(){var e=function(){return o(function e(o,i,r,n,a,s){t(this,e),this.dialogRef=o,this.dialog=i,this.data=r,this.fb=n,this.api=a,this.events=s,this.idNeigh="",this.lists=[],this.access="",this.responsesError=[],this.idNeigh=r.idNeigh,this.access=r.access,this.company="SHADOW"===r.team.name?"SHADOW":"ABIC"},[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){this.form=this.fb.group({file:["",[a.kI.required]]})}},{key:"onFileChange",value:function(t){var e=this,o=t.target.files[0];o&&this.api.readExcelFile(o).then(function(t){var o=[];e.lists=[];for(var i=1;i<t.length;i++){var r={ci:t[i][0],name:t[i][1],phone:t[i][2],address:t[i][3],email:t[i][4],password:t[i][5],lat:t[i][6],lng:t[i][7],company:e.company,neighbourhood:e.idNeigh,access:e.access};if(void 0===r.ci||void 0===r.name||void 0===r.phone||void 0===r.address||void 0===r.email||void 0===r.password||void 0===r.lat||void 0===r.lng)throw new Error("Uno o m\xe1s campos son undefined.");o.push(r)}e.lists=o}).catch(function(t){console.error("Error al leer el archivo Excel:",t)})}},{key:"postNeighbours",value:function(){var t=this;(0,l.Av)(),this.api.postNeighbourImport(this.lists).subscribe(function(e){(0,l.kU)(),(0,u.w)("success","Success","Vecinos creados con \xe9xito","btn btn-info");var o=e.body.results.errors;o.length>0&&(t.responsesError=o)},function(t){console.error(t),(0,l.kU)(),(0,u.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}},{key:"errorsForm",get:function(){return this.form.controls}},{key:"close",value:function(){this.dialogRef.close()}}])}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(s.so),d.Y36(s.uw),d.Y36(s.WI),d.Y36(a.qu),d.Y36(g.s),d.Y36(m.ju))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-excel-import"]],decls:15,vars:3,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-12"],["type","file","formControlName","file",3,"change"],[4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h6",1),d._uU(2,"Importar Vecinos"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return e.close()}),d._UZ(4,"i",3),d.qZA(),d.qZA(),d.TgZ(5,"mat-dialog-content",4),d.TgZ(6,"form",5),d.TgZ(7,"div",6),d.TgZ(8,"input",7),d.NdJ("change",function(t){return e.onFileChange(t)}),d.qZA(),d.qZA(),d._UZ(9,"br"),d._UZ(10,"br"),d.YNc(11,O,2,1,"div",8),d.qZA(),d.qZA(),d.TgZ(12,"div",9),d.TgZ(13,"button",10),d.NdJ("click",function(){return e.postNeighbours()}),d._uU(14," Guardar "),d.qZA(),d.qZA()),2&t&&(d.xp6(6),d.Q6J("formGroup",e.form),d.xp6(5),d.Q6J("ngIf",e.responsesError.length>0),d.xp6(2),d.Q6J("disabled",0===e.lists.length))},directives:[s.xY,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,n.O5,s.H8,n.sg],styles:[""]}),e}();function Q(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}function S(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1," Campo obligatorio "),d.qZA())}var z=function(){var e=function(){return o(function e(o,i,r,n){t(this,e),this.fb=o,this.dialogRef=i,this.dialog=r,this.data=n,this.title="",this.showPassword=!1,i.disableClose=!0,this.identifier=n.identifier,this.title=n.opt},[{key:"ngOnInit",value:function(){this.createForm()}},{key:"createForm",value:function(){this.form=this.fb.group({name:["",[a.kI.required]],password:["",[a.kI.required]],identifier:[this.identifier,[a.kI.required]]})}},{key:"engancharRed",value:function(){var t=this.form.value,e="http://192.168.4.1/set?a=".concat(t.identifier,"&b=").concat(t.name,"&c=").concat(t.password),o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),window.open(e,"_blank"),(0,u.w)("success","Correcto","Red enganchada correctamente","btn btn-info"),this.close()}},{key:"errorsForm",get:function(){return this.form.controls}},{key:"close",value:function(){this.dialogRef.close()}}])}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(a.qu),d.Y36(s.so),d.Y36(s.uw),d.Y36(s.WI))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-red"]],decls:26,vars:7,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","name","formControlName","name"],[4,"ngIf"],["matInput","","name","password","formControlName","password",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"h6",1),d._uU(2),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return e.close()}),d._UZ(4,"i",3),d.qZA(),d.qZA(),d.TgZ(5,"mat-dialog-content",4),d.TgZ(6,"form",5),d.TgZ(7,"div",6),d.TgZ(8,"div",7),d.TgZ(9,"div",6),d.TgZ(10,"mat-form-field",8),d.TgZ(11,"mat-label"),d._uU(12,"SSID"),d.qZA(),d._UZ(13,"input",9),d.YNc(14,Q,2,0,"mat-error",10),d.qZA(),d.qZA(),d.TgZ(15,"div",6),d.TgZ(16,"mat-form-field",8),d.TgZ(17,"mat-label"),d._uU(18,"Contrase\xf1a"),d.qZA(),d._UZ(19,"input",11),d.TgZ(20,"mat-icon",12),d.NdJ("click",function(){return e.showPassword=!e.showPassword}),d._uU(21),d.qZA(),d.YNc(22,S,2,0,"mat-error",10),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(23,"div",13),d.TgZ(24,"button",14),d.NdJ("click",function(){return e.engancharRed()}),d._uU(25," Enganchar "),d.qZA(),d.qZA()),2&t&&(d.xp6(2),d.hij("Red ",e.title,""),d.xp6(4),d.Q6J("formGroup",e.form),d.xp6(8),d.Q6J("ngIf",e.errorsForm.name.touched&&(null==e.errorsForm.name.errors?null:e.errorsForm.name.errors.required)),d.xp6(5),d.Q6J("type",e.showPassword?"text":"password"),d.xp6(2),d.hij(" ",e.showPassword?"visibility_off":"visibility"," "),d.xp6(1),d.Q6J("ngIf",e.errorsForm.password.touched&&(null==e.errorsForm.password.errors?null:e.errorsForm.password.errors.required)),d.xp6(2),d.Q6J("disabled",!e.form.valid))},directives:[s.xY,a._Y,a.JL,a.sg,f.KE,f.hX,Z.Nt,a.Fj,a.JJ,a.u,n.O5,b.Hw,f.R9,s.H8,f.TO],styles:[""]}),e}(),M=r(63423),R=r(99692);function W(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",23),d._uU(2),d.qZA(),d.TgZ(3,"td",23),d._uU(4),d.qZA(),d.TgZ(5,"td",23),d._uU(6),d.qZA(),d.TgZ(7,"td",23),d._uU(8),d.qZA(),d.TgZ(9,"td",24),d.TgZ(10,"a",25),d.NdJ("click",function(){var t=d.CHM(o).$implicit;return d.oxw(2).openRedSettings("USUARIO",t._id)}),d._UZ(11,"i",26),d.qZA(),d.TgZ(12,"a",27),d.NdJ("click",function(){var t=d.CHM(o).$implicit;return d.oxw(2).openModal("Editar",t)}),d._UZ(13,"i",28),d.qZA(),d.qZA(),d.qZA()}if(2&t){var i=e.$implicit;d.xp6(2),d.Oqu(i.ci),d.xp6(2),d.Oqu(i.name),d.xp6(2),d.Oqu(i.email),d.xp6(2),d.Oqu(i.phone)}}function j(t,e){if(1&t&&(d.TgZ(0,"tbody"),d.YNc(1,W,14,4,"tr",22),d.qZA()),2&t){var o=d.oxw();d.xp6(1),d.Q6J("ngForOf",o.neighbour)}}function H(t,e){1&t&&(d.TgZ(0,"p",29),d._uU(1,"No existen registros"),d.qZA())}function L(t,e){if(1&t){var o=d.EpF();d.TgZ(0,"div",1),d.TgZ(1,"div",2),d.TgZ(2,"div",30),d.TgZ(3,"mat-paginator",31,32),d.NdJ("page",function(t){return d.CHM(o),d.oxw().changePage(t)}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){var i=d.oxw();d.xp6(3),d.Q6J("length",i.pagination.total)("pageSize",i.pagination.itemsPage)}}var V=[{path:"",children:[{path:"",component:function(){var e=function(){return o(function e(o,i,r,n,a){t(this,e),this.api=o,this.route=i,this.fb=r,this.dialog=n,this.router=a,this.neighbour=[],this.pagination={page:1,pages:1,itemsPage:10,total:1},this.wordToSearch="",this.count=0,this.role="";var s=JSON.parse(atob(i.snapshot.paramMap.get("parameters")));this.neighborhoods=s},[{key:"ngOnInit",value:function(){this.role=localStorage.getItem("role"),this.createForm(),this.getNeighbour()}},{key:"createForm",value:function(){this.searchForm=this.fb.group({value:[""]})}},{key:"getNeighbour",value:function(){var t=this;this.wordToSearch=this.searchForm.value.value,this.api.getUserByNeighborhood(this.neighborhoods.id,this.pagination.page,this.pagination.itemsPage,this.wordToSearch).subscribe(function(e){t.neighbour=e.body.users,t.count=e.body.pagination.total,t.pagination=e.body.pagination},function(t){(0,u.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}},{key:"openExcelImport",value:function(){var t=this;this.dialog.open(P,{width:"600px",data:{idNeigh:this.neighborhoods.id,team:this.neighborhoods.team,access:this.neighborhoods.identifier}}).afterClosed().subscribe(function(e){t.getNeighbour()})}},{key:"openModal",value:function(t,e){var o=this;this.dialog.open(E,{width:"600px",data:{title:t,neigh:e,team:this.neighborhoods.team,idNeighbour:this.neighborhoods.id,identifier:this.neighborhoods.identifier}}).afterClosed().subscribe(function(t){o.getNeighbour()})}},{key:"openRedSettings",value:function(t,e){this.dialog.open(z,{width:"400px",data:{opt:t,identifier:"CENTRAL"===t?this.neighborhoods.identifier:e}})}},{key:"changePage",value:function(t){this.pagination.page=t.pageIndex+1,this.getNeighbour()}}])}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(g.s),d.Y36(M.gz),d.Y36(a.qu),d.Y36(s.uw),d.Y36(M.F0))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-list-neighbour"]],decls:44,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"title"],["title","Enganchar red",2,"float","right","margin-top","2px","cursor","pointer",3,"click"],[1,"category"],[1,"form-horizontal",3,"formGroup"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","value","formControlName","value",3,"keyup"],[1,"content","table-responsive","table-full-width"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","msg-empty",4,"ngIf"],["class","container-fluid",4,"ngIf"],["id","addExcel",1,"btn","btn-icon","btn-round","btn-fill","btn-success",3,"click"],["src","assets/img/icons/excel.png"],["id","addBtn",1,"btn","btn-icon","btn-round","btn-twitter",3,"click"],["src","assets/img/icons/mas.png"],[4,"ngFor","ngForOf"],[1,"td-size"],[1,"td-actions","text-right"],["rel","tooltip","title","Boton Wifi",1,"btn","btn-primary","btn-simple","btn-xs",3,"click"],[1,"fa","fa-wifi"],["rel","tooltip","title","Editar",1,"btn","btn-warning","btn-simple","btn-xs",3,"click"],[1,"fa","fa-edit"],[1,"msg-empty"],[1,"col","d-flex","justify-content-end"],["showFirstLastButtons","",3,"length","pageSize","page"],["paginator",""]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"h4",6),d._uU(7),d.TgZ(8,"mat-icon",7),d.NdJ("click",function(){return e.openRedSettings("CENTRAL")}),d._uU(9,"settings"),d.qZA(),d.qZA(),d._UZ(10,"p",8),d.qZA(),d._UZ(11,"br"),d.TgZ(12,"form",9),d.TgZ(13,"div",3),d.TgZ(14,"div",2),d.TgZ(15,"mat-form-field",10),d.TgZ(16,"mat-label"),d._uU(17,"Buscar por identificaci\xf3n, nombre, correo o tel\xe9fono"),d.qZA(),d.TgZ(18,"input",11),d.NdJ("keyup",function(){return e.getNeighbour()}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(19,"br"),d.TgZ(20,"div",12),d.TgZ(21,"table",13),d.TgZ(22,"thead"),d.TgZ(23,"tr"),d.TgZ(24,"th"),d._uU(25,"C\xe9dula"),d.qZA(),d.TgZ(26,"th"),d._uU(27,"Nombre"),d.qZA(),d.TgZ(28,"th"),d._uU(29,"Correo"),d.qZA(),d.TgZ(30,"th"),d._uU(31,"Tel\xe9fono"),d.qZA(),d.TgZ(32,"th",14),d._uU(33,"Acciones"),d.qZA(),d.qZA(),d.qZA(),d.YNc(34,j,2,1,"tbody",15),d.qZA(),d.YNc(35,H,2,0,"p",16),d.qZA(),d._UZ(36,"br"),d.YNc(37,L,5,2,"div",17),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"caption"),d.TgZ(39,"button",18),d.NdJ("click",function(){return e.openExcelImport()}),d._UZ(40,"img",19),d.qZA(),d.qZA(),d.TgZ(41,"caption"),d.TgZ(42,"button",20),d.NdJ("click",function(){return e.openModal("Agregar")}),d._UZ(43,"img",21),d.qZA(),d.qZA()),2&t&&(d.xp6(7),d.AsE("Vecinos (",e.neighborhoods.name,"): ",e.count," "),d.xp6(5),d.Q6J("formGroup",e.searchForm),d.xp6(22),d.Q6J("ngIf",e.neighbour.length>0),d.xp6(1),d.Q6J("ngIf",0===e.neighbour.length),d.xp6(2),d.Q6J("ngIf",0!==(null==e.neighbour?null:e.neighbour.length)))},directives:[b.Hw,a._Y,a.JL,a.sg,f.KE,f.hX,Z.Nt,a.Fj,a.JJ,a.u,n.O5,n.sg,R.NW],styles:[""]}),e}()}]}],G=r(75690),D=r(12640),X=r(44368),K=r(75920),$=function(){var e=o(function e(){t(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[m.ju],imports:[[n.ez,a.u5,a.UX,G.P4.forRoot(),M.Bz.forChild(V),D.q,X.bB,K.K]]}),e}()}}])}();