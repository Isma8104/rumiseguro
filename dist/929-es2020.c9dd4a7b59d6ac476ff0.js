"use strict";(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[929],{4929:function(t,e,o){o.r(e),o.d(e,{ListNeighbourModule:function(){return D}});var r=o(38583),i=o(3679),n=o(22238),s=o(81534),a=o(22176),l=o(13506),h=o(82298),c=o(37716),g=o(84678),u=o(46524),d=o(97832),m=o(98295),p=o(49983),f=o(76627),Z=o(67441),b=o(72458),A=o(51095),q=o(39209);function T(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function x(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function v(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function y(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function w(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function N(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Tipo es obligatorio "),c.qZA())}function _(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function B(t,e){1&t&&(c.TgZ(0,"button",25,26),c._uU(2," Siguiente "),c.qZA())}function U(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",33,26),c.NdJ("click",function(){return c.CHM(t),c.oxw().configNeighs()}),c._uU(2," Finalizar "),c.qZA()}}function C(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function I(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"mat-step",34),c.TgZ(1,"form",8),c.TgZ(2,"div",9),c.TgZ(3,"mat-form-field",11),c.TgZ(4,"mat-label"),c._uU(5,"Bot\xf3n 1"),c.qZA(),c._UZ(6,"input",35),c.YNc(7,C,2,0,"mat-error",13),c.qZA(),c.TgZ(8,"mat-form-field",11),c.TgZ(9,"mat-label"),c._uU(10,"Bot\xf3n 4"),c.qZA(),c._UZ(11,"input",36),c.qZA(),c.qZA(),c.TgZ(12,"div",9),c.TgZ(13,"mat-form-field",11),c.TgZ(14,"mat-label"),c._uU(15,"Bot\xf3n 2"),c.qZA(),c._UZ(16,"input",37),c.qZA(),c.TgZ(17,"mat-form-field",11),c.TgZ(18,"mat-label"),c._uU(19,"Bot\xf3n Wifi"),c.qZA(),c._UZ(20,"input",38),c.qZA(),c.qZA(),c.TgZ(21,"div",9),c.TgZ(22,"mat-form-field",11),c.TgZ(23,"mat-label"),c._uU(24,"Bot\xf3n 3"),c.qZA(),c._UZ(25,"input",39),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"div",23),c.TgZ(27,"button",24),c._uU(28," Anterior "),c.qZA(),c.TgZ(29,"button",33,26),c.NdJ("click",function(){return c.CHM(t),c.oxw().configNeighs()}),c._uU(31," Finalizar "),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.Q6J("stepControl",t.formBtns),c.xp6(1),c.Q6J("formGroup",t.formBtns),c.xp6(6),c.Q6J("ngIf",t.errorsBtnForm.physicalBtn.touched&&(null==t.errorsBtnForm.physicalBtn.errors?null:t.errorsBtnForm.physicalBtn.errors.required))}}let F=(()=>{class t{constructor(t,e,o,r,n,s){this.dialogRef=t,this.dialog=e,this.data=o,this.fb=r,this.api=n,this.events=s,this.title="",this.isButton=!1,this.idNeighbourhood="",this.access="",this.showPassword=!1,this.filesControl=new i.NI(null,l.Fz.filesLimit(1)),this.files=[],this.company="",this.latE=null,this.lngE=null,this.heightE="50%",t.disableClose=!0,this.title=o.title,this.neighs=o.neigh,this.idNeighbourhood=o.idNeighbour,this.access=o.identifier,this.company="SHADOW"===o.team.name?"SHADOW":"ABIC",this.selectedBtn(!!this.neighs?.physicalBtn)}ngOnInit(){this.createForm()}createForm(){this.latE="Agregar"===this.title?"-2.8974172":this.neighs?.lat,this.lngE="Agregar"===this.title?"-79.0070696":this.neighs?.lng,this.form=this.fb.group({ci:["Agregar"===this.title?"":this.neighs?.ci,[i.kI.required]],name:["Agregar"===this.title?"":this.neighs?.name,[i.kI.required]],phone:["Agregar"===this.title?"":this.neighs?.phone,[i.kI.required]],address:["Agregar"===this.title?"":this.neighs?.address,[i.kI.required]],email:["Agregar"===this.title?"":this.neighs?.email,[i.kI.required]],password:["Agregar"===this.title?"":this.neighs?.password,[i.kI.required]],img:["Agregar"===this.title?"":this.neighs?.img],imgName:["Agregar"===this.title?"":"tiene valor"],neighbourhood:[this.idNeighbourhood],company:[this.company],access:[this.access],isButton:["Agregar"!==this.title]}),this.formUbi=this.fb.group({lat:["Agregar"===this.title?"":this.neighs?.lat,[i.kI.required]],lng:["Agregar"===this.title?"":this.neighs?.lng,[i.kI.required]]}),this.formBtns=this.fb.group({physicalBtn:["Agregar"===this.title?"":this.neighs?.physicalBtn],physicalBtnTwo:["Agregar"===this.title?"":this.neighs?.physicalBtnTwo],physicalBtnThree:["Agregar"===this.title?"":this.neighs?.physicalBtnThree],physicalBtnFour:["Agregar"===this.title?"":this.neighs?.physicalBtnFour],physicalBtnWifi:["Agregar"===this.title?"":this.neighs?.physicalBtnWifi]})}onSelect(t){this.files[0]=t.addedFiles,this.filesControl=new i.NI(this.files[0],l.Fz.filesLimit(1)),this.form=this.fb.group({ci:[this.form.value.ci,[i.kI.required]],name:[this.form.value.name,[i.kI.required]],phone:[this.form.value.phone,[i.kI.required]],address:[this.form.value.address,[i.kI.required]],email:[this.form.value.email,[i.kI.required]],password:[this.form.value.password,[i.kI.required]],img:[this.filesControl],imgName:["tiene valor"],neighbourhood:[this.idNeighbourhood]})}onRemove(t){this.files.splice(this.files.indexOf(t),1),this.filesControl=new i.NI("",l.Fz.filesLimit(1)),this.form=this.fb.group({ci:[this.form.value.ci,[i.kI.required]],name:[this.form.value.name,[i.kI.required]],phone:[this.form.value.phone,[i.kI.required]],address:[this.form.value.address,[i.kI.required]],email:[this.form.value.email,[i.kI.required]],password:[this.form.value.password,[i.kI.required]],img:[this.filesControl],imgName:[""],neighbourhood:[this.idNeighbourhood]})}setLatLng(t){this.formUbi.patchValue({lat:t.lat}),this.formUbi.patchValue({lng:t.lng})}configNeighs(){"Editar"===this.title?this.putneighss():this.postNeighbour()}selectedBtn(t){this.isButton=t,this.formBtns=this.fb.group({physicalBtn:["Agregar"===this.title?"":this.neighs.physicalBtn,[i.kI.required]],physicalBtnTwo:["Agregar"===this.title?"":this.neighs.physicalBtnTwo],physicalBtnThree:["Agregar"===this.title?"":this.neighs.physicalBtnThree],physicalBtnFour:["Agregar"===this.title?"":this.neighs.physicalBtnFour],physicalBtnWifi:["Agregar"===this.title?"":this.neighs.physicalBtnWifi]})}postNeighbour(){(0,s.Av)(),this.api.postNeighbour({ci:this.form.value.ci,name:this.form.value.name,phone:this.form.value.phone,address:this.form.value.address,email:this.form.value.email,lat:this.formUbi.value.lat,lng:this.formUbi.value.lng,password:this.form.value.password,neighbourhood:this.form.value.neighbourhood,company:this.form.value.company,access:this.form.value.access,physicalBtn:this.formBtns.value.physicalBtn,physicalBtnTwo:this.formBtns.value.physicalBtnTwo,physicalBtnThree:this.formBtns.value.physicalBtnThree,physicalBtnFour:this.formBtns.value.physicalBtnFour,physicalBtnWifi:this.formBtns.value.physicalBtnWifi}).subscribe(t=>{200===((0,s.kU)(),t?.status)?(0,a.w)("success","Correcto","Vecino creado correctamente","btn btn-fill btn-info").then(t=>{this.close()}):(0,a.w)("error","Error",t.body.message,"btn btn-fill btn-info")},t=>{(0,s.kU)(),(0,a.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}convertFile(t){const e=new h.t(1),o=new FileReader;return o.readAsBinaryString(t),o.onload=t=>e.next(btoa(t.target.result.toString())),e}putneighss(){this.api.putNeighbour({ci:this.form.value.ci,name:this.form.value.name,phone:this.form.value.phone,address:this.form.value.address,email:this.form.value.email,lat:this.formUbi.value.lat,lng:this.formUbi.value.lng,password:this.form.value.password,neighbourhood:this.form.value.neighbourhood,company:this.form.value.company,access:this.form.value.access,physicalBtn:this.formBtns.value.physicalBtn,physicalBtnTwo:this.formBtns.value.physicalBtnTwo,physicalBtnThree:this.formBtns.value.physicalBtnThree,physicalBtnFour:this.formBtns.value.physicalBtnFour,physicalBtnWifi:this.formBtns.value.physicalBtnWifi},this.neighs._id).subscribe(t=>{(0,s.kU)(),(0,a.w)("success","Correcto","Vecino actualizado correctamente","btn btn-fill btn-info").then(t=>{this.close()})},t=>{(0,s.kU)(),(0,a.w)("error","Error","Validation failed: email: El campo email ya est\xe1 en uso"===t.error.error.message.message?"El correo electr\xf3nico proporcionado ya est\xe1 registrado en el sistema. Por favor, ingresa un correo electr\xf3nico diferente":"Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}get errorsForm(){return this.form.controls}get errorsBtnForm(){return this.formBtns.controls}validarNumeros(t){(t.keyCode<48||t.keyCode>57)&&(t.returnValue=!1)}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.so),c.Y36(n.uw),c.Y36(n.WI),c.Y36(i.qu),c.Y36(g.s),c.Y36(u.ju))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-add-neighborhoods"]],decls:74,vars:22,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],[1,"rounded"],["stepper",""],["label","Datos personales","state","category",3,"stepControl"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"col-xs-12","col-sm-6","col-md-6",2,"border","2px #000000"],["matInput","","name","ci","formControlName","ci",3,"keypress"],[4,"ngIf"],["matInput","","name","email","formControlName","email"],["matInput","","name","name","formControlName","name"],["matInput","","name","password","formControlName","password",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],["matInput","","name","phone","formControlName","phone",3,"keypress"],["formControlName","isButton",3,"selectionChange"],[3,"value"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","address","formControlName","address"],["mat-dialog-actions","",1,"dialog-footer"],["id","btnPrevious","mat-button","","matStepperPrevious","",1,"left-button"],["id","btnNext","mat-button","","matStepperNext","",1,"right-button"],["next",""],["label","Ubicaci\xf3n","state","category",3,"stepControl"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[3,"lat","lng","opt","heightE","coorsEmit"],["id","btnNext","mat-button","","matStepperNext","","class","right-button",4,"ngIf"],["id","btnNext","mat-button","","matStepperNext","","class","right-button",3,"click",4,"ngIf"],["label","Botones","state","category",3,"stepControl",4,"ngIf"],["id","btnNext","mat-button","","matStepperNext","",1,"right-button",3,"click"],["label","Botones","state","category",3,"stepControl"],["matInput","","name","physicalBtn","formControlName","physicalBtn"],["matInput","","name","physicalBtnFour","formControlName","physicalBtnFour"],["matInput","","name","physicalBtnTwo","formControlName","physicalBtnTwo"],["matInput","","name","physicalBtnWifi","formControlName","physicalBtnWifi"],["matInput","","name","physicalBtnThree","formControlName","physicalBtnThree"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h6",1),c._uU(2),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return e.close()}),c._UZ(4,"i",3),c.qZA(),c.qZA(),c.TgZ(5,"mat-dialog-content",4),c.TgZ(6,"mat-horizontal-stepper",5,6),c.TgZ(8,"mat-step",7),c.TgZ(9,"form",8),c.TgZ(10,"div",9),c.TgZ(11,"div",10),c._UZ(12,"br"),c.TgZ(13,"div",9),c.TgZ(14,"mat-form-field",11),c.TgZ(15,"mat-label"),c._uU(16,"C\xe9dula"),c.qZA(),c.TgZ(17,"input",12),c.NdJ("keypress",function(t){return e.validarNumeros(t)}),c.qZA(),c.YNc(18,T,2,0,"mat-error",13),c.qZA(),c.TgZ(19,"mat-form-field",11),c.TgZ(20,"mat-label"),c._uU(21,"Correo"),c.qZA(),c._UZ(22,"input",14),c.YNc(23,x,2,0,"mat-error",13),c.qZA(),c.qZA(),c.TgZ(24,"div",9),c.TgZ(25,"mat-form-field",11),c.TgZ(26,"mat-label"),c._uU(27,"Nombre"),c.qZA(),c._UZ(28,"input",15),c.YNc(29,v,2,0,"mat-error",13),c.qZA(),c.TgZ(30,"mat-form-field",11),c.TgZ(31,"mat-label"),c._uU(32,"Contrase\xf1a"),c.qZA(),c._UZ(33,"input",16),c.TgZ(34,"mat-icon",17),c.NdJ("click",function(){return e.showPassword=!e.showPassword}),c._uU(35),c.qZA(),c.YNc(36,y,2,0,"mat-error",13),c.qZA(),c.qZA(),c.TgZ(37,"div",9),c.TgZ(38,"mat-form-field",11),c.TgZ(39,"mat-label"),c._uU(40,"Tel\xe9fono"),c.qZA(),c.TgZ(41,"input",18),c.NdJ("keypress",function(t){return e.validarNumeros(t)}),c.qZA(),c.YNc(42,w,2,0,"mat-error",13),c.qZA(),c.TgZ(43,"mat-form-field",11),c.TgZ(44,"mat-label"),c._uU(45,"Agregar Botones"),c.qZA(),c.TgZ(46,"mat-select",19),c.NdJ("selectionChange",function(t){return e.selectedBtn(t.value)}),c.TgZ(47,"mat-option",20),c._uU(48,"No"),c.qZA(),c.TgZ(49,"mat-option",20),c._uU(50,"Si"),c.qZA(),c.qZA(),c.YNc(51,N,2,0,"mat-error",13),c.qZA(),c.qZA(),c.TgZ(52,"div",9),c.TgZ(53,"mat-form-field",21),c.TgZ(54,"mat-label"),c._uU(55,"Direcci\xf3n"),c.qZA(),c._UZ(56,"input",22),c.YNc(57,_,2,0,"mat-error",13),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(58,"div",23),c.TgZ(59,"button",24),c._uU(60," Anterior "),c.qZA(),c.TgZ(61,"button",25,26),c._uU(63," Siguiente "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(64,"mat-step",27),c.TgZ(65,"div",9),c.TgZ(66,"div",28),c.TgZ(67,"app-map-card",29),c.NdJ("coorsEmit",function(t){return e.setLatLng(t)}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(68,"div",23),c.TgZ(69,"button",24),c._uU(70," Anterior "),c.qZA(),c.YNc(71,B,3,0,"button",30),c.YNc(72,U,3,0,"button",31),c.qZA(),c.qZA(),c.YNc(73,I,32,3,"mat-step",32),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.hij("",e.title," Vecino"),c.xp6(6),c.Q6J("stepControl",e.form),c.xp6(1),c.Q6J("formGroup",e.form),c.xp6(9),c.Q6J("ngIf",e.errorsForm.ci.touched&&(null==e.errorsForm.ci.errors?null:e.errorsForm.ci.errors.required)),c.xp6(5),c.Q6J("ngIf",e.errorsForm.email.touched&&(null==e.errorsForm.email.errors?null:e.errorsForm.email.errors.required)),c.xp6(6),c.Q6J("ngIf",e.errorsForm.name.touched&&(null==e.errorsForm.name.errors?null:e.errorsForm.name.errors.required)),c.xp6(4),c.Q6J("type",e.showPassword?"text":"password"),c.xp6(2),c.hij(" ",e.showPassword?"visibility_off":"visibility"," "),c.xp6(1),c.Q6J("ngIf",e.errorsForm.password.touched&&(null==e.errorsForm.password.errors?null:e.errorsForm.password.errors.required)),c.xp6(6),c.Q6J("ngIf",e.errorsForm.phone.touched&&(null==e.errorsForm.phone.errors?null:e.errorsForm.phone.errors.required)),c.xp6(5),c.Q6J("value",!1),c.xp6(2),c.Q6J("value",!0),c.xp6(2),c.Q6J("ngIf",e.errorsForm.isButton.touched&&(null==e.errorsForm.isButton.errors?null:e.errorsForm.isButton.errors.required)),c.xp6(6),c.Q6J("ngIf",e.errorsForm.address.touched&&(null==e.errorsForm.address.errors?null:e.errorsForm.address.errors.required)),c.xp6(7),c.Q6J("stepControl",e.formUbi),c.xp6(3),c.Q6J("lat",e.latE)("lng",e.lngE)("opt","click")("heightE",e.heightE),c.xp6(4),c.Q6J("ngIf",!0===e.isButton),c.xp6(1),c.Q6J("ngIf",!1===e.isButton),c.xp6(1),c.Q6J("ngIf",!0===e.isButton))},directives:[n.xY,d.Vq,d.C0,i._Y,i.JL,i.sg,m.KE,m.hX,p.Nt,i.Fj,i.JJ,i.u,r.O5,f.Hw,m.R9,Z.gD,b.ey,n.H8,A.lW,d.fd,d.Ic,q.P,m.TO],styles:['@charset "UTF-8";.custom-dropzone[_ngcontent-%COMP%]{height:80px;width:auto;background:#fff;color:#000;border:5px dashed #fff;border-radius:5px;box-shadow:0 1px 3px 1px #ced4da;font-size:20px;padding-top:30px}ngx-dropzone[_ngcontent-%COMP%], .custom-dropzone[_ngcontent-%COMP%]{margin-top:20px;margin-left:auto;margin-right:auto;display:block}.custom-dropzone[_ngcontent-%COMP%]{height:200px;width:auto;background:#fff;color:#000;border:5px dashed #fff;border-radius:5px;box-shadow:0 1px 3px 1px #ced4da;font-size:20px;padding-top:30px}.custom-dropzone-p[_ngcontent-%COMP%]{height:150px;background:#fff;color:#000;border:2px dashed #000;border-radius:5px;box-shadow:0 1px 3px 1px #ced4da;font-size:20px}.custom-dropzone-p.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid #eb4f4f}.custom-dropzone.ngx-dz-hovered[_ngcontent-%COMP%]{border:5px solid black}#preview[_ngcontent-%COMP%]{display:flex;height:100px;min-height:100px;min-width:200px;max-width:200px;justify-content:center;text-align:center;align-items:center;margin:10px;border-radius:5px;position:relative}.center[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;display:block}#btnPrevious[_ngcontent-%COMP%]{background-color:#43bdd6;color:#fff}#btnNext[_ngcontent-%COMP%]{background-color:#43bdd6;color:#fff}.dialog-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.left-button[_ngcontent-%COMP%]{order:1}.right-button[_ngcontent-%COMP%]{order:2}']}),t})();function k(t,e){if(1&t&&(c.TgZ(0,"small"),c._uU(1),c._UZ(2,"br"),c.qZA()),2&t){const t=e.$implicit;c.xp6(1),c.hij("",t.email," no creado ")}}function J(t,e){if(1&t&&(c.TgZ(0,"div"),c.YNc(1,k,3,1,"small",11),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.responsesError)}}let Y=(()=>{class t{constructor(t,e,o,r,i,n){this.dialogRef=t,this.dialog=e,this.data=o,this.fb=r,this.api=i,this.events=n,this.idNeigh="",this.lists=[],this.access="",this.responsesError=[],this.idNeigh=o.idNeigh,this.access=o.access,this.company="SHADOW"===o.team.name?"SHADOW":"ABIC"}ngOnInit(){this.createForm()}createForm(){this.form=this.fb.group({file:["",[i.kI.required]]})}onFileChange(t){const e=t.target.files[0];e&&this.api.readExcelFile(e).then(t=>{let e=[];this.lists=[];for(let o=1;o<t.length;o++){let r={ci:t[o][0],name:t[o][1],phone:t[o][2],address:t[o][3],email:t[o][4],password:t[o][5],lat:t[o][6],lng:t[o][7],company:this.company,neighbourhood:this.idNeigh,access:this.access};if(void 0===r.ci||void 0===r.name||void 0===r.phone||void 0===r.address||void 0===r.email||void 0===r.password||void 0===r.lat||void 0===r.lng)throw new Error("Uno o m\xe1s campos son undefined.");e.push(r)}this.lists=e}).catch(t=>{console.error("Error al leer el archivo Excel:",t)})}postNeighbours(){(0,s.Av)(),this.api.postNeighbourImport(this.lists).subscribe(t=>{(0,s.kU)(),(0,a.w)("success","Success","Vecinos creados con \xe9xito","btn btn-info");let e=t.body.results.errors;e.length>0&&(this.responsesError=e)},t=>{console.error(t),(0,s.kU)(),(0,a.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}get errorsForm(){return this.form.controls}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(n.so),c.Y36(n.uw),c.Y36(n.WI),c.Y36(i.qu),c.Y36(g.s),c.Y36(u.ju))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-excel-import"]],decls:15,vars:3,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"col-xs-12","col-sm-12","col-md-12"],["type","file","formControlName","file",3,"change"],[4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h6",1),c._uU(2,"Importar Vecinos"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return e.close()}),c._UZ(4,"i",3),c.qZA(),c.qZA(),c.TgZ(5,"mat-dialog-content",4),c.TgZ(6,"form",5),c.TgZ(7,"div",6),c.TgZ(8,"input",7),c.NdJ("change",function(t){return e.onFileChange(t)}),c.qZA(),c.qZA(),c._UZ(9,"br"),c._UZ(10,"br"),c.YNc(11,J,2,1,"div",8),c.qZA(),c.qZA(),c.TgZ(12,"div",9),c.TgZ(13,"button",10),c.NdJ("click",function(){return e.postNeighbours()}),c._uU(14," Guardar "),c.qZA(),c.qZA()),2&t&&(c.xp6(6),c.Q6J("formGroup",e.form),c.xp6(5),c.Q6J("ngIf",e.responsesError.length>0),c.xp6(2),c.Q6J("disabled",0===e.lists.length))},directives:[n.xY,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,r.O5,n.H8,r.sg],styles:[""]}),t})();function E(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}function O(t,e){1&t&&(c.TgZ(0,"mat-error"),c._uU(1," Campo obligatorio "),c.qZA())}let P=(()=>{class t{constructor(t,e,o,r){this.fb=t,this.dialogRef=e,this.dialog=o,this.data=r,this.title="",this.showPassword=!1,e.disableClose=!0,this.identifier=r.identifier,this.title=r.opt}ngOnInit(){this.createForm()}createForm(){this.form=this.fb.group({name:["",[i.kI.required]],password:["",[i.kI.required]],identifier:[this.identifier,[i.kI.required]]})}engancharRed(){let t=this.form.value,e=`http://192.168.4.1/set?a=${t.identifier}&b=${t.name}&c=${t.password}`;const o=document.createElement("textarea");o.value=e,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),window.open(e,"_blank"),(0,a.w)("success","Correcto","Red enganchada correctamente","btn btn-info"),this.close()}get errorsForm(){return this.form.controls}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(i.qu),c.Y36(n.so),c.Y36(n.uw),c.Y36(n.WI))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-red"]],decls:26,vars:7,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","name","formControlName","name"],[4,"ngIf"],["matInput","","name","password","formControlName","password",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"h6",1),c._uU(2),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return e.close()}),c._UZ(4,"i",3),c.qZA(),c.qZA(),c.TgZ(5,"mat-dialog-content",4),c.TgZ(6,"form",5),c.TgZ(7,"div",6),c.TgZ(8,"div",7),c.TgZ(9,"div",6),c.TgZ(10,"mat-form-field",8),c.TgZ(11,"mat-label"),c._uU(12,"SSID"),c.qZA(),c._UZ(13,"input",9),c.YNc(14,E,2,0,"mat-error",10),c.qZA(),c.qZA(),c.TgZ(15,"div",6),c.TgZ(16,"mat-form-field",8),c.TgZ(17,"mat-label"),c._uU(18,"Contrase\xf1a"),c.qZA(),c._UZ(19,"input",11),c.TgZ(20,"mat-icon",12),c.NdJ("click",function(){return e.showPassword=!e.showPassword}),c._uU(21),c.qZA(),c.YNc(22,O,2,0,"mat-error",10),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",13),c.TgZ(24,"button",14),c.NdJ("click",function(){return e.engancharRed()}),c._uU(25," Enganchar "),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.hij("Red ",e.title,""),c.xp6(4),c.Q6J("formGroup",e.form),c.xp6(8),c.Q6J("ngIf",e.errorsForm.name.touched&&(null==e.errorsForm.name.errors?null:e.errorsForm.name.errors.required)),c.xp6(5),c.Q6J("type",e.showPassword?"text":"password"),c.xp6(2),c.hij(" ",e.showPassword?"visibility_off":"visibility"," "),c.xp6(1),c.Q6J("ngIf",e.errorsForm.password.touched&&(null==e.errorsForm.password.errors?null:e.errorsForm.password.errors.required)),c.xp6(2),c.Q6J("disabled",!e.form.valid))},directives:[n.xY,i._Y,i.JL,i.sg,m.KE,m.hX,p.Nt,i.Fj,i.JJ,i.u,r.O5,f.Hw,m.R9,n.H8,m.TO],styles:[""]}),t})();var Q=o(63423),S=o(99692);function z(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td",23),c._uU(2),c.qZA(),c.TgZ(3,"td",23),c._uU(4),c.qZA(),c.TgZ(5,"td",23),c._uU(6),c.qZA(),c.TgZ(7,"td",23),c._uU(8),c.qZA(),c.TgZ(9,"td",24),c.TgZ(10,"a",25),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).openRedSettings("USUARIO",e._id)}),c._UZ(11,"i",26),c.qZA(),c.TgZ(12,"a",27),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw(2).openModal("Editar",e)}),c._UZ(13,"i",28),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(2),c.Oqu(t.ci),c.xp6(2),c.Oqu(t.name),c.xp6(2),c.Oqu(t.email),c.xp6(2),c.Oqu(t.phone)}}function M(t,e){if(1&t&&(c.TgZ(0,"tbody"),c.YNc(1,z,14,4,"tr",22),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",t.neighbour)}}function R(t,e){1&t&&(c.TgZ(0,"p",29),c._uU(1,"No existen registros"),c.qZA())}function W(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.TgZ(2,"div",30),c.TgZ(3,"mat-paginator",31,32),c.NdJ("page",function(e){return c.CHM(t),c.oxw().changePage(e)}),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(3),c.Q6J("length",t.pagination.total)("pageSize",t.pagination.itemsPage)}}const j=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,e,o,r,i){this.api=t,this.route=e,this.fb=o,this.dialog=r,this.router=i,this.neighbour=[],this.pagination={page:1,pages:1,itemsPage:10,total:1},this.wordToSearch="",this.count=0,this.role="";let n=JSON.parse(atob(e.snapshot.paramMap.get("parameters")));this.neighborhoods=n}ngOnInit(){this.role=localStorage.getItem("role"),this.createForm(),this.getNeighbour()}createForm(){this.searchForm=this.fb.group({value:[""]})}getNeighbour(){this.wordToSearch=this.searchForm.value.value,this.api.getUserByNeighborhood(this.neighborhoods.id,this.pagination.page,this.pagination.itemsPage,this.wordToSearch).subscribe(t=>{this.neighbour=t.body.users,this.count=t.body.pagination.total,this.pagination=t.body.pagination},t=>{(0,a.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}openExcelImport(){this.dialog.open(Y,{width:"600px",data:{idNeigh:this.neighborhoods.id,team:this.neighborhoods.team,access:this.neighborhoods.identifier}}).afterClosed().subscribe(t=>{this.getNeighbour()})}openModal(t,e){this.dialog.open(F,{width:"600px",data:{title:t,neigh:e,team:this.neighborhoods.team,idNeighbour:this.neighborhoods.id,identifier:this.neighborhoods.identifier}}).afterClosed().subscribe(t=>{this.getNeighbour()})}openRedSettings(t,e){this.dialog.open(P,{width:"400px",data:{opt:t,identifier:"CENTRAL"===t?this.neighborhoods.identifier:e}})}changePage(t){this.pagination.page=t.pageIndex+1,this.getNeighbour()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(g.s),c.Y36(Q.gz),c.Y36(i.qu),c.Y36(n.uw),c.Y36(Q.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-list-neighbour"]],decls:44,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"title"],["title","Enganchar red",2,"float","right","margin-top","2px","cursor","pointer",3,"click"],[1,"category"],[1,"form-horizontal",3,"formGroup"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","value","formControlName","value",3,"keyup"],[1,"content","table-responsive","table-full-width"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","msg-empty",4,"ngIf"],["class","container-fluid",4,"ngIf"],["id","addExcel",1,"btn","btn-icon","btn-round","btn-fill","btn-success",3,"click"],["src","assets/img/icons/excel.png"],["id","addBtn",1,"btn","btn-icon","btn-round","btn-twitter",3,"click"],["src","assets/img/icons/mas.png"],[4,"ngFor","ngForOf"],[1,"td-size"],[1,"td-actions","text-right"],["rel","tooltip","title","Boton Wifi",1,"btn","btn-primary","btn-simple","btn-xs",3,"click"],[1,"fa","fa-wifi"],["rel","tooltip","title","Editar",1,"btn","btn-warning","btn-simple","btn-xs",3,"click"],[1,"fa","fa-edit"],[1,"msg-empty"],[1,"col","d-flex","justify-content-end"],["showFirstLastButtons","",3,"length","pageSize","page"],["paginator",""]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"h4",6),c._uU(7),c.TgZ(8,"mat-icon",7),c.NdJ("click",function(){return e.openRedSettings("CENTRAL")}),c._uU(9,"settings"),c.qZA(),c.qZA(),c._UZ(10,"p",8),c.qZA(),c._UZ(11,"br"),c.TgZ(12,"form",9),c.TgZ(13,"div",3),c.TgZ(14,"div",2),c.TgZ(15,"mat-form-field",10),c.TgZ(16,"mat-label"),c._uU(17,"Buscar por identificaci\xf3n, nombre, correo o tel\xe9fono"),c.qZA(),c.TgZ(18,"input",11),c.NdJ("keyup",function(){return e.getNeighbour()}),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c._UZ(19,"br"),c.TgZ(20,"div",12),c.TgZ(21,"table",13),c.TgZ(22,"thead"),c.TgZ(23,"tr"),c.TgZ(24,"th"),c._uU(25,"C\xe9dula"),c.qZA(),c.TgZ(26,"th"),c._uU(27,"Nombre"),c.qZA(),c.TgZ(28,"th"),c._uU(29,"Correo"),c.qZA(),c.TgZ(30,"th"),c._uU(31,"Tel\xe9fono"),c.qZA(),c.TgZ(32,"th",14),c._uU(33,"Acciones"),c.qZA(),c.qZA(),c.qZA(),c.YNc(34,M,2,1,"tbody",15),c.qZA(),c.YNc(35,R,2,0,"p",16),c.qZA(),c._UZ(36,"br"),c.YNc(37,W,5,2,"div",17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(38,"caption"),c.TgZ(39,"button",18),c.NdJ("click",function(){return e.openExcelImport()}),c._UZ(40,"img",19),c.qZA(),c.qZA(),c.TgZ(41,"caption"),c.TgZ(42,"button",20),c.NdJ("click",function(){return e.openModal("Agregar")}),c._UZ(43,"img",21),c.qZA(),c.qZA()),2&t&&(c.xp6(7),c.AsE("Vecinos (",e.neighborhoods.name,"): ",e.count," "),c.xp6(5),c.Q6J("formGroup",e.searchForm),c.xp6(22),c.Q6J("ngIf",e.neighbour.length>0),c.xp6(1),c.Q6J("ngIf",0===e.neighbour.length),c.xp6(2),c.Q6J("ngIf",0!==(null==e.neighbour?null:e.neighbour.length)))},directives:[f.Hw,i._Y,i.JL,i.sg,m.KE,m.hX,p.Nt,i.Fj,i.JJ,i.u,r.O5,r.sg,S.NW],styles:[""]}),t})()}]}];var H=o(75690),L=o(12640),V=o(44368),G=o(75920);let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({providers:[u.ju],imports:[[r.ez,i.u5,i.UX,H.P4.forRoot(),Q.Bz.forChild(j),L.q,V.bB,G.K]]}),t})()}}]);