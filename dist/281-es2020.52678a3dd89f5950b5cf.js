"use strict";(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[281],{28432:function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.items={},this.count=0}return t.prototype.Add=function(t,e){this.items[t]=e,this.count++},t.prototype.ContainsKey=function(t){return this.items.hasOwnProperty(t)},t.prototype.Count=function(){return this.count},t.prototype.Item=function(t){return this.items[t]},t.prototype.Keys=function(){var t=[];for(var e in this.items)t.push(e);return t},t.prototype.Remove=function(t){var e=this.items[t];return delete this.items[t],this.count--,e},t.prototype.Values=function(){var t=[];for(var e in this.items)t.push(this.items[e]);return t},t}();e.Dictionary=r},46524:function(t,e,r){var o=r(28432),n=function(){function t(){this._Events=new o.Dictionary,this._maxListeners=null}return t.prototype.addListener=function(t,e){return this.on(t,e)},t.prototype.on=function(t,e){return this._registerEvent(t,e,!1),this},t.prototype.once=function(t,e){return this._registerEvent(t,e,!0),this},t.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=this._Events.Item(t),n=this.listenerCount(t);return o&&o.map(function(t){return t.apply(void 0,e)}),0!==n},t.prototype.eventNames=function(){return this._Events.Keys()},t.prototype.getMaxListeners=function(){return null===this._maxListeners?t.defaultMaxListeners:this._maxListeners},t.prototype.setMaxListeners=function(t){return this._maxListeners=t,this},t.prototype.listeners=function(t){return this._Events.Item(t)},t.prototype.listenerCount=function(t){var e=this._Events.Item(t);return void 0===e?0:e.length},t.prototype.removeAllListeners=function(t){var e=this;return t||(t=this._Events.Keys()),t.forEach(function(t){return e._Events.Remove(t)}),this},t.prototype.removeListener=function(t,e){var r=this.listeners(t).filter(function(t){return t===e});return this._Events.Add(t,r),this},t.prototype._registerEvent=function(t,e,r){if(this._ListenerLimitReached(t))console.log("Maximum listener reached, new Listener not added");else{!0===r&&(e=this._createOnceListener(e,t));var o=this._createListeners(e,this.listeners(t));this._Events.Add(t,o)}},t.prototype._createListeners=function(t,e){return e||(e=new Array),e.push(t),e},t.prototype._createOnceListener=function(t,e){var r=this;return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return r.removeListener(e,t),t.apply(void 0,o)}},t.prototype._ListenerLimitReached=function(t){return this.listenerCount(t)===this.getMaxListeners()},t.defaultMaxListeners=10,t}();e.ju=n},55281:function(t,e,r){r.r(e),r.d(e,{ProfileModule:function(){return _}});var o=r(38583),n=r(3679),i=r(75690),s=r(63423),a=r(22176),u=r(22238);function l(t){return 0!==(t.value||"").trim().length?null:{whitespace:!0}}function c(t,e){return r=>{const o=r.controls[e];o.errors&&!o.errors.matchValues||o.setErrors(r.controls[t].value!==o.value?{matchValues:!0}:null)}}r(16738);var p=r(37716),d=r(84678),m=r(46524),h=r(98295),f=r(49983),Z=r(76627);function g(t,e){1&t&&(p.TgZ(0,"mat-error"),p._uU(1," Las contrase\xf1as no coinciden "),p.qZA())}const w=function(){return["repPassword"]};let v=(()=>{class t{constructor(t,e,r,o,n,i){this.dialogRef=t,this.dialog=e,this.data=r,this.fb=o,this.api=n,this.events=i,this.showPasswordAnt=!1,this.showPassword=!1,this.showRepPassword=!1}ngOnInit(){this.createForm()}createForm(){this.passwordForm=this.fb.group({passwordAnt:["",[n.kI.required,l]],password:["",[n.kI.required,l]],repPassword:["",[n.kI.required,l]]},{validator:c("password","repPassword")})}changePassword(){delete this.passwordForm.value.repPassword;let t=this.api.getUser();this.api.resetPaswordOperator(this.passwordForm.value,t).subscribe(t=>{(0,a.w)("success","Correcto","Contrase\xf1a actualizada","btn  btn-primary").then(()=>{this.close()})},t=>{(0,a.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(u.so),p.Y36(u.uw),p.Y36(u.WI),p.Y36(n.qu),p.Y36(d.s),p.Y36(m.ju))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-chage-password"]],decls:32,vars:10,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12","col-lg-12",2,"border","2px #000000"],["matInput","","name","passwordAnt","formControlName","passwordAnt",3,"type"],["matSuffix","",2,"cursor","pointer",3,"click"],["matInput","","name","password","formControlName","password",3,"type"],["matInput","","name","repPassword","formControlName","repPassword",3,"type"],[4,"ngIf"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"h6",1),p._uU(2,"Cambiar Contrase\xf1a"),p.qZA(),p.TgZ(3,"button",2),p.NdJ("click",function(){return e.close()}),p._UZ(4,"i",3),p.qZA(),p.qZA(),p.TgZ(5,"mat-dialog-content",4),p.TgZ(6,"form",5),p.TgZ(7,"div",6),p.TgZ(8,"mat-form-field",7),p.TgZ(9,"mat-label"),p._uU(10,"Contrase\xf1a actual"),p.qZA(),p._UZ(11,"input",8),p.TgZ(12,"mat-icon",9),p.NdJ("click",function(){return e.showPasswordAnt=!e.showPasswordAnt}),p._uU(13),p.qZA(),p.qZA(),p.qZA(),p.TgZ(14,"div",6),p.TgZ(15,"mat-form-field",7),p.TgZ(16,"mat-label"),p._uU(17,"Nueva Contrase\xf1a"),p.qZA(),p._UZ(18,"input",10),p.TgZ(19,"mat-icon",9),p.NdJ("click",function(){return e.showPassword=!e.showPassword}),p._uU(20),p.qZA(),p.qZA(),p.qZA(),p.TgZ(21,"div",6),p.TgZ(22,"mat-form-field",7),p.TgZ(23,"mat-label"),p._uU(24,"Confirmar Contrase\xf1a"),p.qZA(),p._UZ(25,"input",11),p.TgZ(26,"mat-icon",9),p.NdJ("click",function(){return e.showRepPassword=!e.showRepPassword}),p._uU(27),p.qZA(),p.YNc(28,g,2,0,"mat-error",12),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"div",13),p.TgZ(30,"button",14),p.NdJ("click",function(){return e.changePassword()}),p._uU(31," Guardar "),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.Q6J("formGroup",e.passwordForm),p.xp6(5),p.Q6J("type",e.showPasswordAnt?"text":"password"),p.xp6(2),p.hij(" ",e.showPasswordAnt?"visibility_off":"visibility"," "),p.xp6(5),p.Q6J("type",e.showPassword?"text":"password"),p.xp6(2),p.hij(" ",e.showPassword?"visibility_off":"visibility"," "),p.xp6(5),p.Q6J("type",e.showRepPassword?"text":"password"),p.xp6(2),p.hij(" ",e.showRepPassword?"visibility_off":"visibility"," "),p.xp6(1),p.Q6J("ngIf",e.passwordForm.hasError("matchValues",p.DdM(9,w))),p.xp6(2),p.Q6J("disabled",!e.passwordForm.valid))},directives:[u.xY,n._Y,n.JL,n.sg,h.KE,h.hX,f.Nt,n.Fj,n.JJ,n.u,Z.Hw,h.R9,o.O5,u.H8,h.TO],styles:[""]}),t})();const b=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,e,r){this._api=t,this._fb=e,this.dialog=r}ngOnInit(){this.createForm(),this.getProfile()}createForm(){this.operator=this._fb.group({ci:[""],fullName:[""],email:[""],role:[""]})}getProfile(){let t=this._api.getUser();this._api.getOperatorsById(t).subscribe(t=>{let e=t.body.administrator;this.operator=this._fb.group({ci:[e.ci||""],fullName:[e.fullName],email:[e.email],role:[e.role]}),"SUPER-ADMIN"!==e.role&&this.operator.get("role")?.disable()},t=>{(0,a.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-primary")})}updateAdmin(){let t=this._api.getUser();this._api.putOperators(this.operator.value,t).subscribe(t=>{(0,a.w)("success","Correcto","Usuario modificado correctamente","btn btn-primary").then(()=>{window.location.reload()})},t=>{(0,a.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-primary")})}changePassword(){this.dialog.open(v,{width:"400px"})}}return t.\u0275fac=function(e){return new(e||t)(p.Y36(d.s),p.Y36(n.qu),p.Y36(u.uw))},t.\u0275cmp=p.Xpm({type:t,selectors:[["app-profile"]],decls:38,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"title"],[1,"content","table-responsive","table-full-width"],[1,"content"],[1,"tab-content"],[1,"form-horizontal",3,"formGroup"],["appearance","outline",1,"col-md-6",2,"border","2px #000000"],["matInput","","name","fullName","formControlName","fullName"],["matInput","","name","email","formControlName","email"],["matInput","","name","role","formControlName","role"],["id","btnPassword",1,"btn","btn-warning","btn-fill",3,"click"],["id","btnGuardar",1,"btn","btn-info","btn-fill",3,"click"]],template:function(t,e){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"h4",6),p._uU(7,"Mi Perfil"),p.qZA(),p.qZA(),p.TgZ(8,"div",3),p.TgZ(9,"div",7),p.TgZ(10,"div",2),p.TgZ(11,"div",3),p.TgZ(12,"div",8),p.TgZ(13,"div",9),p.TgZ(14,"div",2),p.TgZ(15,"div",3),p.TgZ(16,"form",10),p.TgZ(17,"div",3),p.TgZ(18,"div",2),p.TgZ(19,"mat-form-field",11),p.TgZ(20,"mat-label"),p._uU(21,"Nombre"),p.qZA(),p._UZ(22,"input",12),p.qZA(),p.TgZ(23,"mat-form-field",11),p.TgZ(24,"mat-label"),p._uU(25,"Correo"),p.qZA(),p._UZ(26,"input",13),p.qZA(),p.qZA(),p.TgZ(27,"div",2),p.TgZ(28,"mat-form-field",11),p.TgZ(29,"mat-label"),p._uU(30,"Rol"),p.qZA(),p._UZ(31,"input",14),p.qZA(),p.qZA(),p.qZA(),p._UZ(32,"br"),p.TgZ(33,"div",2),p.TgZ(34,"button",15),p.NdJ("click",function(){return e.changePassword()}),p._uU(35,"Cambiar Contrase\xf1a"),p.qZA(),p.TgZ(36,"button",16),p.NdJ("click",function(){return e.updateAdmin()}),p._uU(37,"Modificar"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(16),p.Q6J("formGroup",e.operator))},directives:[n._Y,n.JL,n.sg,h.KE,h.hX,f.Nt,n.Fj,n.JJ,n.u],styles:["#btnPassword[_ngcontent-%COMP%]{cursor:pointer;margin-left:35%}#btnGuardar[_ngcontent-%COMP%]{cursor:pointer;margin-left:5%}"]}),t})()}]}];var A=r(12640);let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({providers:[m.ju],imports:[[o.ez,n.u5,n.UX,i.P4.forRoot(),s.Bz.forChild(b),A.q]]}),t})()}}]);