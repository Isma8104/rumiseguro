"use strict";(self.webpackChunkargon_dashboard_pro_angular=self.webpackChunkargon_dashboard_pro_angular||[]).push([[800],{81534:function(t,e,o){function r(){const t=document?.getElementById("loader")||null;null!=t&&(t.classList?.add("loader"),t.style.setProperty("position","fixed"),t.style.setProperty("left","0px"),t.style.setProperty("top","0px"),t.style.setProperty("width","100%"),t.style.setProperty("height","100%"),t.style.setProperty("z-index","9999"),t.style.setProperty("background",'url("https://cronosoft.net/view/loading") 50% 50% no-repeat #151B1C'),t.style.setProperty("background-size","10%"),t.style.setProperty("opacity","70%"))}function a(){const t=document?.getElementById("loader");null!=t&&(t.classList.remove("loader"),t.removeAttribute("style"))}o.d(e,{Av:function(){return r},kU:function(){return a}})},47800:function(t,e,o){o.r(e),o.d(e,{TeamOperatorModule:function(){return N}});var r=o(38583),a=o(3679),i=o(75690),n=o(63423),s=o(12640),l=o(44368),p=o(22176),c=o(22238),g=o(81534),d=o(39761),u=o(88002),m=o(37716),h=o(84678),f=o(46524),Z=o(98295),b=o(49983),T=o(21554),A=o(72458);function y(t,e){if(1&t&&(m.TgZ(0,"mat-option",15),m._uU(1),m.qZA()),2&t){const t=e.$implicit;m.Q6J("value",t),m.xp6(1),m.hij(" ",t.fullName," ")}}let q=(()=>{class t{constructor(t,e,o,r,i,n){this.dialogRef=t,this.dialog=e,this.data=o,this.fb=r,this.api=i,this.events=n,this.title="",this.pagination={page:1,pages:1,itemsPage:1e3,total:1},this.operators=[],this.operatorCtrl=new a.NI,this.idTeam=o.team}ngOnInit(){this.createForm(),this.getOperators()}createForm(){this.searchForm=this.fb.group({value:[""]})}getOperators(){this.api.getOperators(this.pagination.page,this.pagination.itemsPage,"").subscribe(t=>{this.operators=t.body.administrators,this.filteredOperators=this.operatorCtrl.valueChanges.pipe((0,d.O)(""),(0,u.U)(t=>this._filterOperator(t)))},t=>{(0,p.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}postOperatorTeam(){(0,g.Av)(),this.api.postOperatorTeam(this.selectOperator._id,this.idTeam).subscribe(t=>{(0,g.kU)(),(0,p.w)("success","Correcto","Operador asignado correctamente","btn btn-fill btn-info").then(t=>{this.close()})},t=>{(0,g.kU)(),this.word="",(0,p.w)("error","Error",t.error.message,"btn  btn-fill btn-info")})}_filterOperator(t){const e=t;return this.operators.filter(t=>t.fullName.includes(e))}selected(t){this.word=t.option.value.fullName,this.selectOperator=t.option.value}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(c.so),m.Y36(c.uw),m.Y36(c.WI),m.Y36(a.qu),m.Y36(h.s),m.Y36(f.ju))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-select-operator"]],decls:21,vars:8,consts:[[1,"modal-header1","text-left","row","mb-1"],[1,"modal-title"],["type","button",1,"close","mt--5","mr--2",3,"click"],[1,"fa","fa-times","icon-modal-close"],[1,"mat-typography"],["autocomplete","off",1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["type","search","matInput","","placeholder","Buscar team",3,"matAutocomplete","ngModel","formControl"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end",1,"dialog-footer"],["type","button",1,"btn","btn-fill","btn-info","btn-md",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"h6",1),m._uU(2,"Asignar Operador"),m.qZA(),m.TgZ(3,"button",2),m.NdJ("click",function(){return e.close()}),m._UZ(4,"i",3),m.qZA(),m.qZA(),m.TgZ(5,"mat-dialog-content",4),m.TgZ(6,"form",5),m.TgZ(7,"div",6),m.TgZ(8,"div",7),m.TgZ(9,"div",6),m.TgZ(10,"mat-form-field",8),m.TgZ(11,"mat-label"),m._uU(12,"Seleccionar Operador"),m.qZA(),m._UZ(13,"input",9),m.TgZ(14,"mat-autocomplete",10,11),m.NdJ("optionSelected",function(t){return e.selected(t)}),m.YNc(16,y,2,2,"mat-option",12),m.ALo(17,"async"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(18,"div",13),m.TgZ(19,"button",14),m.NdJ("click",function(){return e.postOperatorTeam()}),m._uU(20," Guardar "),m.qZA(),m.qZA()),2&t){const t=m.MAs(15);m.xp6(6),m.Q6J("formGroup",e.searchForm),m.xp6(7),m.Q6J("matAutocomplete",t)("ngModel",e.word)("formControl",e.operatorCtrl),m.xp6(3),m.Q6J("ngForOf",m.lcZ(17,6,e.filteredOperators)),m.xp6(3),m.Q6J("disabled",!e.searchForm.valid)}},directives:[c.xY,a._Y,a.JL,a.sg,Z.KE,Z.hX,b.Nt,T.ZL,a.Fj,a.JJ,a.oH,T.XC,r.sg,c.H8,A.ey],pipes:[r.Ov],styles:[""]}),t})();var v=o(99692);function O(t,e){if(1&t&&(m.TgZ(0,"tr"),m.TgZ(1,"td"),m._uU(2),m.qZA(),m._UZ(3,"td",20),m.qZA()),2&t){const t=e.$implicit;m.xp6(2),m.Oqu(t.fullName)}}function x(t,e){if(1&t&&(m.TgZ(0,"tbody"),m.YNc(1,O,4,1,"tr",19),m.qZA()),2&t){const t=m.oxw();m.xp6(1),m.Q6J("ngForOf",t.operators)}}function _(t,e){1&t&&(m.TgZ(0,"p",21),m._uU(1,"No existen registros"),m.qZA())}function w(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"div",1),m.TgZ(1,"div",2),m.TgZ(2,"div",22),m.TgZ(3,"mat-paginator",23,24),m.NdJ("page",function(e){return m.CHM(t),m.oxw().changePage(e)}),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&t){const t=m.oxw();m.xp6(3),m.Q6J("length",t.pagination.total)("pageSize",t.pagination.itemsPage)}}const J=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,e,o,r,a){this.dialog=t,this.fb=e,this.route=o,this._api=r,this.router=a,this.operators=[],this.pagination={page:1,pages:1,itemsPage:10,total:1},this.wordToSearch="",this.count=0;let i=JSON.parse(atob(o.snapshot.paramMap.get("parameters")));this.team=i}ngOnInit(){this.createForm(),this.getOperatorByTeam()}createForm(){this.searchForm=this.fb.group({value:[""]})}getOperatorByTeam(){this.wordToSearch=this.searchForm.value.value,this._api.getOperatorsByTeam(this.team.id,this.pagination.page,this.pagination.itemsPage,this.wordToSearch).subscribe(t=>{this.operators=t.body.users,this.count=t.body.pagination.total,this.pagination=t.body.pagination},t=>{(0,p.w)("error","Error","Algo ha salido mal, intente m\xe1s tarde!","btn btn-info")})}openModal(){this.dialog.open(q,{width:"400px",data:{team:this.team.id}}).afterClosed().subscribe(t=>{this.getOperatorByTeam()})}changePage(t){this.pagination.page=t.pageIndex+1,this.getOperatorByTeam()}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(c.uw),m.Y36(a.qu),m.Y36(n.gz),m.Y36(h.s),m.Y36(n.F0))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-team-operator"]],decls:33,vars:6,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"title"],[1,"category"],[1,"form-horizontal",3,"formGroup"],["appearance","outline",1,"col-xs-12","col-sm-12","col-md-12",2,"border","2px #000000"],["matInput","","name","value","formControlName","value",3,"keyup"],[1,"content","table-responsive","table-full-width"],[1,"table"],[1,"text-right"],[4,"ngIf"],["class","msg-empty",4,"ngIf"],["class","container-fluid",4,"ngIf"],["id","addBtn",1,"btn","btn-icon","btn-round","btn-twitter",3,"click"],["src","assets/img/icons/mas.png"],[4,"ngFor","ngForOf"],[1,"td-actions","text-right"],[1,"msg-empty"],[1,"col","d-flex","justify-content-end"],["showFirstLastButtons","",3,"length","pageSize","page"],["paginator",""]],template:function(t,e){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"div",4),m.TgZ(5,"div",5),m.TgZ(6,"h4",6),m._uU(7),m.qZA(),m._UZ(8,"p",7),m.qZA(),m._UZ(9,"br"),m.TgZ(10,"form",8),m.TgZ(11,"div",3),m.TgZ(12,"div",2),m.TgZ(13,"mat-form-field",9),m.TgZ(14,"mat-label"),m._uU(15,"Buscar por operador"),m.qZA(),m.TgZ(16,"input",10),m.NdJ("keyup",function(){return e.getOperatorByTeam()}),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m._UZ(17,"br"),m.TgZ(18,"div",11),m.TgZ(19,"table",12),m.TgZ(20,"thead"),m.TgZ(21,"tr"),m.TgZ(22,"th"),m._uU(23,"Nombre"),m.qZA(),m.TgZ(24,"th",13),m._uU(25,"Acciones"),m.qZA(),m.qZA(),m.qZA(),m.YNc(26,x,2,1,"tbody",14),m.qZA(),m.YNc(27,_,2,0,"p",15),m.qZA(),m._UZ(28,"br"),m.YNc(29,w,5,2,"div",16),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(30,"caption"),m.TgZ(31,"button",17),m.NdJ("click",function(){return e.openModal()}),m._UZ(32,"img",18),m.qZA(),m.qZA()),2&t&&(m.xp6(7),m.AsE("Operadores Team ",e.team.name,": ",e.count,""),m.xp6(3),m.Q6J("formGroup",e.searchForm),m.xp6(16),m.Q6J("ngIf",e.operators.length>0),m.xp6(1),m.Q6J("ngIf",0===e.operators.length),m.xp6(2),m.Q6J("ngIf",0!==(null==e.operators?null:e.operators.length)))},directives:[a._Y,a.JL,a.sg,Z.KE,Z.hX,b.Nt,a.Fj,a.JJ,a.u,r.O5,r.sg,v.NW],styles:[""]}),t})()}]}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[f.ju],imports:[[r.ez,a.u5,a.UX,i.P4.forRoot(),n.Bz.forChild(J),s.q,l.bB]]}),t})()}}]);